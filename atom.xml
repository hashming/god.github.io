<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://hashming.github.io</id>
    <title>é˜¿é²¤æ¢¨</title>
    <updated>2020-02-28T09:42:07.004Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://hashming.github.io"/>
    <link rel="self" href="https://hashming.github.io/atom.xml"/>
    <subtitle>Onepice</subtitle>
    <logo>https://hashming.github.io/images/avatar.png</logo>
    <icon>https://hashming.github.io/favicon.ico</icon>
    <rights>All rights reserved 2020, é˜¿é²¤æ¢¨</rights>
    <entry>
        <title type="html"><![CDATA[å“ä¼˜è´­é¡¹ç›®å¼€å‘ä¸­æˆ‘é‡åˆ°çš„æ¯”è¾ƒæ£˜æ‰‹çš„é—®é¢˜]]></title>
        <id>https://hashming.github.io/post/pin-you-gou-xiang-mu-kai-fa-zhong-wo-yu-dao-de-bi-jiao-ji-shou-de-wen-ti</id>
        <link href="https://hashming.github.io/post/pin-you-gou-xiang-mu-kai-fa-zhong-wo-yu-dao-de-bi-jiao-ji-shou-de-wen-ti">
        </link>
        <updated>2020-02-28T07:11:12.000Z</updated>
        <content type="html"><![CDATA[<h1 id="1-éœ€æ±‚ä¸æ˜ç¡®å›°å¢ƒ">1. éœ€æ±‚ä¸æ˜ç¡®å›°å¢ƒ</h1>
<p>åœ¨é¡¹ç›®å¼€å‘ä¸­ï¼Œé¡¹ç›®é‡‡ç”¨è¿­ä»£å¼€å‘ï¼Œå¼€å‘éœ€æ±‚ä¸æ˜¯å¾ˆæ˜ç¡®ï¼Œå¯¹äºé¡¹ç›®å¼€å‘åˆæœŸæ¥è¯´éå¸¸å›°éš¾ï¼Œè¿›åº¦éå¸¸æ…¢ï¼Œæœ‰æ—¶å¼€å‘çš„å‡ºçš„äº§å“ç»“æœå¾€å¾€ä¸èƒ½ä»¤è€æ¿æ»¡æ„ï¼Œæˆ–è€…æ˜¯ç”²æ–¹æ»¡æ„ï¼Œé¡¹ç›®è¿˜éœ€è¦ä¸åœçš„è¿­ä»£ï¼Œä¿®æ”¹ã€‚</p>
<blockquote>
<p>æ¯”å¦‚è¯´ï¼š<br>
åœ¨å¼€å‘å“ä¼˜è´­é¡¹ç›®çš„æ—¶å€™ï¼Œå®¢æˆ·å®šä½æ˜¯ä¸€ä¸ªç»¼åˆæ€§çš„å•†åŠ¡å¹³å°ï¼Œå¯ä»¥å®ç°åœ¨çº¿ç¬¬ä¸‰æ–¹å•†å®¶å¯¹æ¥ï¼Œå®ç°å•†å“çš„é”€å”®ä½†æ˜¯å¹¶æ²¡æœ‰æ˜ç¡®çš„éœ€æ±‚ï¼Œå› æ­¤å¼€å‘å…¨å‡­å€Ÿç”µå•†çš„é¡¹ç›®ç»éªŒæ¥å®ç°é‡Œé¢çš„ç›¸å…³çš„ä¸šåŠ¡ï¼ŒåæœŸæ…¢æ…¢è¿­ä»£ã€‚</p>
</blockquote>
<h1 id="2-ä½¿ç”¨-cas-å•ç‹¬ç™»å½•ä¸èƒ½å¾ˆå¥½å®ç°æƒ³è¦çš„æ•ˆæœ">2. ä½¿ç”¨ cas å•ç‹¬ç™»å½•ä¸èƒ½å¾ˆå¥½å®ç°æƒ³è¦çš„æ•ˆæœ</h1>
<h1 id="3-solré«˜äº®ä¸èƒ½æ˜¾ç¤º">3. solré«˜äº®ä¸èƒ½æ˜¾ç¤º</h1>
<p><strong>é—®é¢˜åŸå› </strong>ï¼šangularJS åº•å±‚ä½¿ç”¨ ajaxï¼Œå¼‚æ­¥åŠ è½½é«˜äº®ä¿¡æ¯è¿”å›ç»™é¡µé¢åï¼Œé¡µé¢æ²¡æœ‰åˆ·æ–°ï¼Œå°±ç›´æ¥æ˜¾ç¤ºè¿”å›çš„æ•°æ®ã€‚æ­¤æ—¶ä¼šæŠŠæ‰€æœ‰çš„æ•°æ®ä½œä¸ºæ™®é€šçš„æ–‡æœ¬æ•°æ®è¿›è¡ŒåŠ è½½ã€‚å› æ­¤å°±æ²¡æœ‰é«˜äº®çš„æ•ˆæœã€‚<br>
<strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šä½¿ç”¨ angularJS è¿‡æ»¤å™¨è¿‡æ»¤æ–‡æœ¬æ•°æ®ï¼Œæ­¤æ—¶ angularJS è¿‡æ»¤å™¨æŠŠ html æ–‡æœ¬æ•°æ®è§£æä¸ºæµè§ˆå™¨èƒ½è¯†åˆ«çš„ html æ ‡ç­¾ã€‚é«˜äº®å°±èƒ½å±•ç¤ºäº†ã€‚</p>
<h1 id="4-nginx-é™æ€é¡µé¢æœåŠ¡è·³è½¬åˆ°è´­ç‰©è½¦è·¨åŸŸé—®é¢˜">4. Nginx é™æ€é¡µé¢æœåŠ¡è·³è½¬åˆ°è´­ç‰©è½¦è·¨åŸŸé—®é¢˜</h1>
<p>åœ¨ Nginx ä¸­éƒ¨ç½²äº†é™æ€é¡µé¢ï¼Œæ·»åŠ è´­ç‰©è½¦æ—¶å¿…é¡»ä»é™æ€é¡µé¢è·³è½¬åˆ°è´­ç‰©è½¦ç³»ç»Ÿ,å®ç°è´­ç‰©è½¦æ·»åŠ æ“ä½œã€‚ç”±äºåœ¨é™æ€é¡µé¢ä¸­ä½¿ç”¨ angularJS å®ç°çš„è·³è½¬ï¼Œå‘ç°è·³è½¬åˆ°è´­ç‰©è½¦ç³»ç»Ÿå®Œå…¨æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯å¹¶ä¸èƒ½è·³è½¬å›åˆ°è´­ç‰©è½¦ç³»ç»Ÿé¡µé¢ã€‚<br>
<strong>é—®é¢˜åŸå› </strong>ï¼šä»é™æ€è¯¦æƒ…ç³»ç»Ÿè·³è½¬åˆ°è´­ç‰©è½¦ç³»ç»Ÿï¼Œä¼šå­˜åœ¨è·¨åŸŸé—®é¢˜ï¼Œå› æ­¤ä¸èƒ½è¿›è¡Œå›è°ƒå‡½æ•°çš„æ•°æ®ä¼ é€’ã€‚æ‰€ä»¥åœ¨å›è°ƒå‡½æ•°ä¸­çš„é¡µé¢è·³è½¬å°±ä¸èƒ½å®ç°ã€‚<br>
<strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šä½¿ç”¨ angularJS è·¨åŸŸè°ƒç”¨åŠ springmvc è·¨åŸŸé…ç½®ï¼Œè§£å†³é—®é¢˜ã€‚</p>
<h1 id="5-activemq-å­˜åœ¨è¿è¡Œæ—¶é—´é•¿äº†ä»¥åæ”¶ä¸åˆ°æ¶ˆæ¯çš„ç°è±¡æ—¶é—´é•¿äº†å°±ä¼šå‡ºç°å¡æ­»æ–°çš„æ•°æ®ä¸èƒ½ä»é˜Ÿåˆ—æ¥å¬åˆ°-åªèƒ½é‡å¯ç¨‹åº">5. activeMQ å­˜åœ¨è¿è¡Œæ—¶é—´é•¿äº†ä»¥åï¼Œæ”¶ä¸åˆ°æ¶ˆæ¯çš„ç°è±¡æ—¶é—´é•¿äº†å°±ä¼šå‡ºç°ï¼Œå¡æ­»ï¼Œæ–°çš„æ•°æ®ä¸èƒ½ä»é˜Ÿåˆ—æ¥å¬åˆ°ã€‚åªèƒ½é‡å¯ç¨‹åºã€‚</h1>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šğŸ¤—</p>
<ol>
<li>ä¸è¦é¢‘ç¹çš„å»ºç«‹å’Œå…³é—­è¿æ¥</li>
</ol>
<blockquote>
<p>JMS ä½¿ç”¨é•¿è¿æ¥æ–¹å¼ï¼Œä¸€ä¸ªç¨‹åºï¼Œåªè¦å’Œ JMS æœåŠ¡å™¨ä¿æŒä¸€ä¸ªè¿æ¥å°±å¯ä»¥äº†ï¼Œä¸è¦é¢‘ç¹çš„å»ºç«‹å’Œå…³é—­è¿æ¥ã€‚é¢‘ç¹çš„å»ºç«‹å’Œå…³é—­è¿æ¥ï¼Œå¯¹ç¨‹åºçš„æ€§èƒ½å½±å“è¿˜æ˜¯å¾ˆå¤§çš„ã€‚è¿™ä¸€ç‚¹å’Œ jdbc è¿˜æ˜¯ä¸å¤ªä¸€æ ·çš„ã€‚</p>
</blockquote>
<ol start="2">
<li>Connection çš„ start()å’Œ stop()æ–¹æ³•ä»£ä»·å¾ˆé«˜</li>
</ol>
<blockquote>
<p>JMS çš„ Connection çš„ start()å’Œ stop()æ–¹æ³•ä»£ä»·å¾ˆé«˜ï¼Œä¸èƒ½ç»å¸¸è°ƒç”¨ã€‚æˆ‘ä»¬è¯•ç”¨çš„æ—¶å€™ï¼Œå†™äº†ä¸ª jms çš„ connection poolï¼Œæ¯æ¬¡å°† connection å–å‡º pool æ—¶è°ƒç”¨ start()æ–¹æ³•ï¼Œå½’è¿˜æ—¶è°ƒç”¨ stop()æ–¹æ³•ï¼Œç„¶è€Œåæ¥ç”¨ jprofilerå‘ç°ï¼Œä¸€èˆ¬çš„ cpu æ—¶é—´éƒ½è€—åœ¨äº†è¿™ä¸¤ä¸ªæ–¹æ³•ä¸Šã€‚</p>
</blockquote>
<ol start="3">
<li>start()åæ‰èƒ½æ”¶æ¶ˆæ¯</li>
</ol>
<blockquote>
<p>Connection çš„ start()æ–¹æ³•è°ƒç”¨åï¼Œæ‰èƒ½æ”¶åˆ° jms æ¶ˆæ¯ã€‚å¦‚æœä¸è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œèƒ½å‘å‡ºæ¶ˆæ¯ï¼Œä½†æ˜¯ä¸€ç›´æ”¶ä¸åˆ°æ¶ˆæ¯ã€‚ä¸çŸ¥é“å…¶å®ƒçš„ jms æœåŠ¡å™¨ä¹Ÿæ˜¯è¿™æ ·</p>
</blockquote>
<ol start="4">
<li>æ˜¾å¼å…³é—­ Session</li>
</ol>
<blockquote>
<p>å¦‚æœå¿˜è®°äº†æœ€åå…³é—­ Connection æˆ– Session å¯¹è±¡ï¼Œéƒ½ä¼šå¯¼è‡´å†…å­˜æ³„æ¼ã€‚è¿™ä¸ªåœ¨æˆ‘æµ‹è¯•çš„æ—¶å€™ä¹Ÿå‘ç°äº†ã€‚æœ¬æ¥ä»¥ä¸ºå…³é—­äº† Connectionï¼Œç”±è¿™ä¸ªConnection ç”Ÿæˆçš„ Session ä¹Ÿä¼šè¢«è‡ªåŠ¨å…³é—­ï¼Œç»“æœå¹¶éå¦‚æ­¤ï¼ŒSession å¹¶æ²¡æœ‰å…³é—­ï¼Œå¯¼è‡´å†…å­˜æ³„æ¼ã€‚æ‰€ä»¥ä¸€å®šè¦æ˜¾å¼çš„å…³é—­ Connection å’Œ Sessionã€‚</p>
</blockquote>
<ol start="5">
<li>å¯¹ Session åšå¯¹è±¡æ± </li>
</ol>
<blockquote>
<p>å¯¹ Session åšå¯¹è±¡æ± ï¼Œè€Œä¸æ˜¯ Connectionã€‚Session ä¹Ÿæ˜¯æ˜‚è´µçš„å¯¹è±¡ï¼Œæ¯æ¬¡ä½¿ç”¨éƒ½æ–°å»ºå’Œå…³é—­ï¼Œä»£ä»·ä¹Ÿéå¸¸é«˜ã€‚è€Œä¸”åæ¥æˆ‘ä»¬å‘ç°ï¼ŒåŸæ¥ Connectionæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œè€Œ Session ä¸æ˜¯ï¼Œæ‰€ä»¥åæ¥æ”¹æˆäº†å¯¹ Session åšå¯¹è±¡æ± ï¼Œè€Œåªä¿ç•™ä¸€ä¸ª Connectionã€‚</p>
</blockquote>
<ol start="6">
<li>é›†ç¾¤</li>
</ol>
<blockquote>
<p>ActiveMQ æœ‰å¼ºå¤§è€Œçµæ´»çš„é›†ç¾¤åŠŸèƒ½ï¼Œä½†æ˜¯ä½¿ç”¨èµ·æ¥è¿˜æ˜¯ä¼šæœ‰å¾ˆå¤šé™·é˜±</p>
</blockquote>
<h1 id="6-activemq-å­˜åœ¨å‘ç”Ÿæ¶ˆæ¯å¤ªå¤§é€ æˆæ¶ˆæ¯æ¥å—ä¸æˆåŠŸ">6. activeMQ å­˜åœ¨å‘ç”Ÿæ¶ˆæ¯å¤ªå¤§ï¼Œé€ æˆæ¶ˆæ¯æ¥å—ä¸æˆåŠŸ</h1>
<p>å¤šä¸ªçº¿ç¨‹ä» activeMQ ä¸­å–æ¶ˆæ¯ï¼Œéšç€ä¸šåŠ¡çš„æ‰©å¤§ï¼Œè¯¥æœºå™¨å ç”¨çš„ç½‘ç»œå¸¦å®½è¶Šæ¥è¶Šé«˜ã€‚ä»”ç»†åˆ†æå‘ç°ï¼Œmq å…¥é˜Ÿæ—¶å¹¶æ²¡æœ‰å¼‚å¸¸é«˜çš„ç½‘ç»œæµé‡ï¼Œä»…ä»…åœ¨å‡ºé˜Ÿæ—¶ä¼šäº§ç”Ÿå¾ˆé«˜çš„ç½‘ç»œæµé‡ã€‚<br>
<strong>é—®é¢˜åŸå› </strong>ï¼š<br>
<strong>æœ€ç»ˆå‘ç°æ˜¯ springçš„ çš„ jmsTemplateä¸ ä¸ activemqçš„ çš„ prefetch æœºåˆ¶é…åˆå¯¼è‡´çš„é—®é¢˜</strong><br>
<em>ç ”ç©¶æºç å‘ç° jmsTemplateå®ç°æœºåˆ¶æ˜¯ï¼šæ¯æ¬¡è°ƒç”¨ receive()æ—¶éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„consumer å¯¹è±¡ï¼Œç”¨å®Œå³é”€æ¯ã€‚</em><br>
æ­£å¸¸æƒ…å†µä¸‹ä»…ä»…ä¼šæµªè´¹é‡å¤åˆ›å»º consumer çš„èµ„æºä»£ä»·ï¼Œå¹¶ä¸è‡³äºäº§ç”Ÿæ­£å¸¸æƒ…å†µåå€ç™¾å€çš„ç½‘ç»œæµé‡ã€‚ä½†æ˜¯ activeMQ æœ‰ä¸€ä¸ªæé«˜æ€§èƒ½çš„æœºåˆ¶ prefetchï¼Œæ­¤æ—¶å°±ä¼šæœ‰ä¸¥é‡çš„é—®é¢˜ã€‚<br>
<strong>prefetch æœºåˆ¶:</strong><br>
æ¯æ¬¡ consumer è¿æ¥è‡³ MQ æ—¶ï¼ŒMQ é¢„å…ˆå­˜æ”¾è®¸å¤šmessage åˆ°æ¶ˆè´¹è€…ï¼ˆå‰ææ˜¯ MQ ä¸­å­˜åœ¨å¤§é‡æ¶ˆæ¯ï¼‰ï¼Œé¢„å…ˆå­˜ æ”¾messageçš„æ•°é‡å–å†³äºprefetchSizeï¼ˆé»˜è®¤ä¸º 1000ï¼‰ã€‚æ­¤æœºåˆ¶çš„ç›®çš„å¾ˆæ˜¾ç„¶ï¼Œæ˜¯æƒ³è®©å®¢æˆ·ç«¯ä»£ç ç”¨ä¸€ä¸ª consumer åå¤è¿›è¡Œ receiveæ“ä½œï¼Œè¿™æ ·èƒ½å¤Ÿå¤§é‡æé«˜å‡ºé˜Ÿæ€§èƒ½ã€‚æ­¤æœºåˆ¶ä¸jmsTemplate é…åˆæ—¶å°±ä¼šäº§ç”Ÿä¸¥é‡çš„é—®é¢˜ï¼Œæ¯æ¬¡ jmsTemplate.receive()ï¼Œéƒ½ä¼šäº§ç”Ÿ 1000ä¸ªæ¶ˆæ¯çš„ç½‘ç»œæµé‡ï¼Œ ä½†æ˜¯å› ä¸ºjmsTemplaeå¹¶ä¸ä¼šé‡ç”¨ consumerï¼Œå¯¼è‡´åé¢ 999 ä¸ªæ¶ˆæ¯éƒ½è¢«åºŸå¼ƒã€‚åå¤jmsTemplate.receive()æ—¶ï¼Œè¡¨é¢ä¸Šçœ‹ ä¸å‡ºä»»ä½•é—®é¢˜ï¼Œå…¶å®ç½‘ç»œå¸¦å®½ä¼šé€ æˆå¤§é‡çš„æµªè´¹ã€‚<br>
<strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ol>
<li>è‹¥åšæŒä½¿ç”¨ jmsTemplateï¼Œéœ€è¦è®¾ç½®prefetchå€¼ä¸º 1ï¼Œç›¸å½“äºç¦ç”¨äº† activeMQ çš„prefetch æœºåˆ¶ï¼Œæ­¤æ—¶æ„Ÿè§‰æœ€å¥å£®ï¼Œ å°±ç®—å¤šçº¿ç¨‹ï¼Œåå¤è°ƒç”¨ jmsTemplate.receive()ä¹Ÿä¸ä¼šæœ‰ä»»ä½•é—®é¢˜ã€‚ä½†æ˜¯ä¼šæœ‰èµ„æºæµªè´¹ï¼Œå› ä¸ºè¦åå¤åˆ›å»º consumer å¹¶é¢‘ç¹ä¸æœåŠ¡å™¨è¿› è¡Œæ•°æ®é€šä¿¡ï¼Œä½†åœ¨æ€§èƒ½è¦æ±‚ä¸é«˜çš„åº”ç”¨ä¸­ä¹Ÿä¸ç®—ä»€ä¹ˆé—®é¢˜ã€‚</li>
<li>ä¸ä½¿ç”¨ jmsTemplateï¼Œæ‰‹å·¥åˆ›å»ºä¸€ä¸ªconsumerï¼Œå¹¶å•çº¿ç¨‹åå¤ä½¿ç”¨å®ƒæ¥ receive()ï¼Œæ­¤æ—¶å¯ä»¥å……åˆ†åˆ©ç”¨ prefetch æœºåˆ¶ã€‚é…åˆå¤šçº¿ç¨‹çš„æ–¹å¼æ¯ä¸ªçº¿ç¨‹æ‹¥æœ‰è‡ªå·±çš„ä¸€ä¸ª consumerï¼Œæ­¤æ—¶èƒ½å¤Ÿå……åˆ†å‘æŒ¥ MQåœ¨å¤§ååé‡æ—¶çš„é€Ÿåº¦ä¼˜åŠ¿ã€‚</li>
</ol>
<p>åˆ‡è®°é¿å…å¤šçº¿ç¨‹ä½¿ç”¨ä¸€ä¸ª consumer é€ æˆçš„æ¶ˆæ¯æ··ä¹±ã€‚å¤§ååé‡çš„åº”ç”¨æ¨èä½¿ç”¨æ–¹æ¡ˆ 2ï¼Œèƒ½å¤Ÿå……åˆ†åˆ©ç”¨<br>
prefetch æœºåˆ¶æé«˜ç³» MQ çš„ååæ€§èƒ½ã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[SpringMVCä¹‹æ¶æ„ä¸å·¥ä½œæµç¨‹]]></title>
        <id>https://hashming.github.io/post/springmvc-zhi-jia-gou-yu-gong-zuo-liu-cheng</id>
        <link href="https://hashming.github.io/post/springmvc-zhi-jia-gou-yu-gong-zuo-liu-cheng">
        </link>
        <updated>2020-02-28T01:18:52.000Z</updated>
        <summary type="html"><![CDATA[<p>MVCæ¨¡å¼æ˜¯åœ¨Javaçš„Webåº”ç”¨å¼€å‘ä¸­éå¸¸å¸¸ç”¨çš„æ¨¡å¼ã€‚MVCå…¨åæ˜¯Model View Controllerï¼Œæ˜¯æ¨¡å‹(model)ï¼è§†å›¾(view)ï¼æ§åˆ¶å™¨(controller)çš„ç¼©å†™ï¼Œä¸€ç§è½¯ä»¶è®¾è®¡å…¸èŒƒï¼Œç”¨ä¸€ç§ä¸šåŠ¡é€»è¾‘ã€æ•°æ®ã€ç•Œé¢æ˜¾ç¤ºåˆ†ç¦»çš„æ–¹æ³•ç»„ç»‡ä»£ç ï¼Œ</p>
]]></summary>
        <content type="html"><![CDATA[<p>MVCæ¨¡å¼æ˜¯åœ¨Javaçš„Webåº”ç”¨å¼€å‘ä¸­éå¸¸å¸¸ç”¨çš„æ¨¡å¼ã€‚MVCå…¨åæ˜¯Model View Controllerï¼Œæ˜¯æ¨¡å‹(model)ï¼è§†å›¾(view)ï¼æ§åˆ¶å™¨(controller)çš„ç¼©å†™ï¼Œä¸€ç§è½¯ä»¶è®¾è®¡å…¸èŒƒï¼Œç”¨ä¸€ç§ä¸šåŠ¡é€»è¾‘ã€æ•°æ®ã€ç•Œé¢æ˜¾ç¤ºåˆ†ç¦»çš„æ–¹æ³•ç»„ç»‡ä»£ç ï¼Œ</p>
<!-- more -->
<p>å°†ä¸šåŠ¡é€»è¾‘èšé›†åˆ°ä¸€ä¸ªéƒ¨ä»¶é‡Œé¢ï¼Œåœ¨æ”¹è¿›å’Œä¸ªæ€§åŒ–å®šåˆ¶ç•Œé¢åŠç”¨æˆ·äº¤äº’çš„åŒæ—¶ï¼Œä¸éœ€è¦é‡æ–°ç¼–å†™ä¸šåŠ¡é€»è¾‘ã€‚</p>
<p>æ€»ä¹‹MVCæ¨¡å¼å®ç°äº†é¡µé¢å±•ç¤ºä¸ä¸šåŠ¡é€»è¾‘å‘åˆ†ç¦»ï¼Œè¿™ä¹Ÿæ˜¯è§£è€¦çš„é‡è¦å®ç°æ–¹å¼ã€‚ç”±äºmvcæ¨¡å¼éå¸¸å¸¸ç”¨ï¼Œå½“å‰åŸºäºMVCæ¨¡å¼çš„æ¡†æ¶ä¹Ÿæœ‰å¾ˆå¤šï¼Œå¦‚struts2,springmvc,jsfç­‰ã€‚</p>
<p>æœ¬ç¯‡å¼€å§‹ä»‹ç»å…³äºSpringMVCçš„åŸºæœ¬ä½¿ç”¨ä»¥åŠæºç åˆ†æã€‚</p>
<p>Spring Web MVCæ˜¯ä¸€ç§åŸºäºJavaçš„å®ç°äº†Web MVCè®¾è®¡æ¨¡å¼çš„è¯·æ±‚é©±åŠ¨ç±»å‹çš„è½»é‡çº§Webæ¡†æ¶ï¼Œå³ä½¿ç”¨äº†MVCæ¶æ„æ¨¡å¼çš„æ€æƒ³ï¼Œå°†webå±‚è¿›è¡ŒèŒè´£è§£è€¦ï¼ŒåŸºäºè¯·æ±‚é©±åŠ¨æŒ‡çš„å°±æ˜¯ä½¿ç”¨è¯·æ±‚-å“åº”æ¨¡å‹ï¼Œæ¡†æ¶çš„ç›®çš„å°±æ˜¯å¸®åŠ©æˆ‘ä»¬ç®€åŒ–å¼€å‘ï¼ŒSpring Web MVCä¹Ÿæ˜¯è¦ç®€åŒ–æˆ‘ä»¬æ—¥å¸¸Webå¼€å‘çš„ã€‚</p>
<p>é¦–å…ˆè¯´ä¸€ä¸‹SpringMVCçš„æ¶æ„ï¼Œé€šè¿‡SpringMVCçš„æ¶æ„ï¼Œæˆ‘ä»¬èƒ½æ›´å¥½çš„ç†è§£SpringMVCçš„å·¥ä½œæµç¨‹ã€‚<br>
<img src="http://img.wwery.com/hashming/a24710228092342.png" alt="hashming/a24710228092342.png" loading="lazy"></p>
<p>ğŸ˜˜</p>
<blockquote>
<p>æµç¨‹å¦‚ä¸‹<br>
1ã€ç”¨æˆ·å‘é€è¯·æ±‚è‡³å‰ç«¯æ§åˆ¶å™¨DispatcherServlet<br>
2ã€DispatcherServletæ”¶åˆ°è¯·æ±‚è°ƒç”¨HandlerMappingå¤„ç†å™¨æ˜ å°„å™¨ã€‚<br>
3ã€å¤„ç†å™¨æ˜ å°„å™¨æ ¹æ®è¯·æ±‚urlæ‰¾åˆ°å…·ä½“çš„å¤„ç†å™¨ï¼Œç”Ÿæˆå¤„ç†å™¨å¯¹è±¡åŠå¤„ç†å™¨æ‹¦æˆªå™¨(äºŒè€…ç»„æˆHandlerExecutionChain),å¹¶å°†å…¶ä¸€å¹¶è¿”å›ç»™DispatcherServletã€‚<br>
4ã€DispatcherServleté€šè¿‡HandlerAdapterå¤„ç†å™¨é€‚é…å™¨è°ƒç”¨å¤„ç†å™¨<br>
5ã€æ‰§è¡Œå¤„ç†å™¨(Controllerï¼Œä¹Ÿå«åç«¯æ§åˆ¶å™¨)ã€‚<br>
6ã€Controlleræ‰§è¡Œå®Œæˆè¿”å›ModelAndView<br>
7ã€HandlerAdapterå°†controlleræ‰§è¡Œç»“æœModelAndViewè¿”å›ç»™DispatcherServlet<br>
8ã€DispatcherServletå°†ModelAndViewä¼ ç»™ViewResloverè§†å›¾è§£æå™¨<br>
9ã€ViewResloverè§£æåè¿”å›å…·ä½“View<br>
10ã€DispatcherServletå¯¹Viewè¿›è¡Œæ¸²æŸ“è§†å›¾ï¼ˆå³å°†æ¨¡å‹æ•°æ®å¡«å……è‡³è§†å›¾ä¸­ï¼‰ã€‚<br>
11ã€DispatcherServletå¯¹ç”¨æˆ·è¿›è¡Œå“åº”</p>
</blockquote>
<p><strong>ç®€è€Œè¨€ä¹‹ï¼ŒSpringMVCé€šè¿‡DispatcherServletè¿™ä¸ªå‰ç«¯æ§åˆ¶å™¨(ä¹Ÿå«ä¸­å¤®è°ƒåº¦å™¨ï¼Œæˆ‘è®¤ä¸ºä¸­å¤®è°ƒåº¦å™¨æ›´èƒ½ä½“ç°å…¶ä½œç”¨)ï¼Œæ¥è°ƒç”¨mvcçš„ä¸‰å¤§ä»¶:Controllerã€Modelã€Viewã€‚è¿™æ ·å°±ä¿è¯MVCçš„æ¯ä¸€ä¸ªç»„ä»¶åªä¸DispatcherServletè€¦åˆï¼Œè€Œå½¼æ­¤ä¹‹é—´ç‹¬ç«‹è¿è¡Œï¼Œå¤§å¤§é™ä½äº†ç¨‹åºçš„è€¦åˆæ€§ã€‚</strong></p>
<p>å†æ¥è¯´ä¸€ä¸‹ï¼ŒSpringMVCè¿™ä¸ªæ¡†æ¶æ—¶å¦‚ä½•å®ç°MVCæ¨¡å¼çš„ã€‚<br>
æ³¨æ„SpringMVCä¸­å¹¶æ²¡æœ‰æ¶‰åŠæœ‰å…³äºControlleræ¥å£è§„èŒƒçš„å®ç°,SpringMVCæ˜¯é€šè¿‡è°ƒç”¨Handleræ¥å®ç°Controllerè¿™ä¸€å±‚çš„ã€‚</p>
<p>SpringMVCä½¿ç”¨äº†é€‚é…å™¨æ¨¡å¼ï¼Œå‰ç«¯æ§åˆ¶å™¨ä½¿ç”¨HandlerAdapteræ¥è°ƒç”¨ä¸åŒçš„Controller,ç„¶åæ‰æ˜¯Controllerè°ƒç”¨Modeläº§ç”Ÿæ•°æ®æ¨¡å‹;<br>
äº§ç”Ÿçš„æ•°æ®æ¨¡å‹å°†ä¼šå†æ¬¡è¿”å›åˆ°å‰ç«¯æ§åˆ¶å™¨ï¼Œå¹¶ç”±å‰ç«¯æ§åˆ¶å™¨å†³å®šä½¿ç”¨ä¸åŒçš„æ¨¡æ¿å¼•æ“å°†é¡µé¢è¿›è¡Œæ¸²æŸ“ã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[jdbcä¸­çš„sqlæ³¨å…¥æ”»å‡»é˜²èŒƒ]]></title>
        <id>https://hashming.github.io/post/jdbc-zhong-de-sql-zhu-ru-gong-ji-fang-fan</id>
        <link href="https://hashming.github.io/post/jdbc-zhong-de-sql-zhu-ru-gong-ji-fang-fan">
        </link>
        <updated>2019-12-31T02:23:14.000Z</updated>
        <content type="html"><![CDATA[<p>åŸå§‹ä»£ç ï¼šï¼ˆè¿˜ç®—æ˜¯åŸå§‹å§ï¼‰</p>
<pre><code class="language-java">package com.fuxi.test02_JDBCæ¼”ç¤º;
import com.mysql.jdbc.Driver;
import java.sql.*;
import java.sql.SQLException;
public class Test01 {
    public static void main(String[] args) {
        try {
            DriverManager.registerDriver(new Driver());//æ³¨å†Œé©±åŠ¨
            Connection con = DriverManager.getConnection(&quot;jdbc:mysql:///duo66&quot;,&quot;root&quot;,&quot;root&quot;);//è¿æ¥
            Statement st = con.createStatement();//å£°æ˜æ‰¿è½½sqlçš„ç±»æ¥æ“ä½œæ•°æ®åº“
            String sql = &quot;select * from user&quot;;
            ResultSet rs = st.executeQuery(sql);//
            while(rs.next()){
                int id = rs.getInt(&quot;id&quot;);
                String name = rs.getString(&quot;name&quot;);
                int age = rs.getInt(&quot;age&quot;);
                System.out.println(id+&quot;;;;&quot;+name+&quot;;;;&quot;+age);
            }
            rs.close();
            st.close();
            con.close();
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
}
</code></pre>
<p>ä¸‹é¢æ˜¯æˆ‘ä»¬å·²ç»ä¼˜åŒ–åçš„ä»£ç ï¼š</p>
<pre><code class="language-java">package com.fuxi.test05_SQLæ³¨å…¥æ”»å‡»çš„ä»£ç æ¼”ç¤º;
import com.fuxi.utils.JDBCUtils2;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.Statement;
import java.util.Scanner;

/*
    ä¸ºä»€ä¹ˆä¼šå‡ºç°SQLæ³¨å…¥æ”»å‡»é—®é¢˜?
        ç”¨æˆ·å½•å…¥çš„ç‰¹æ®Šç¬¦å·æˆ–è€…å…³é”®å­—, è¢«æˆ‘ä»¬çš„ç¨‹åºè¯†åˆ«ä¸º: SQLè¯­å¥ä¸­çš„ç¬¦å·æˆ–è€…å…³é”®å­—äº†, å¯¼è‡´æˆ‘ä»¬SQLè¯­å¥çš„ç»“æ„å‘ç”Ÿäº†å˜åŒ–.

        è§£å†³æ–¹æ¡ˆ:
            æˆ‘ä»¬å¯ä»¥å¯¹æˆ‘ä»¬çš„SQLè¯­å¥è¿›è¡Œ: é¢„ç¼–è¯‘, è¿™æ ·æˆ‘ä»¬å°±ç¡®å®šäº†SQLè¯­å¥çš„æ ¼å¼,
            ä¹‹åä¸ç®¡ä¼ å…¥ä»€ä¹ˆæ•°æ®, æˆ‘ä»¬éƒ½æ˜¯å½“åš: æ™®é€šå­—ç¬¦å¤„ç†.

 */
public class Test02_é—®é¢˜è§£å†³ {
    public static void main(String[] args) {
        //1. è·å–ç”¨æˆ·å½•å…¥çš„ç”¨æˆ·åå’Œå¯†ç 
        Scanner sc = new Scanner(System.in);
        System.out.println(&quot;è¯·å½•å…¥æ‚¨çš„ç”¨æˆ·å: &quot;);
        String uname = sc.nextLine();

        System.out.println(&quot;è¯·å½•å…¥æ‚¨çš„å¯†ç : &quot;);
        String pw = sc.nextLine();

        //2. åˆ¤æ–­è¯¥æ•°æ®æ˜¯å¦å­˜åœ¨, å­˜åœ¨æç¤ºç™»å½•æˆåŠŸ, ä¸å­˜åœ¨æç¤ºç™»å½•å¤±è´¥
        Connection conn = null;
        //Statement stat = null;        //æ²¡æœ‰é¢„ç¼–è¯‘åŠŸèƒ½
        PreparedStatement ps = null;    //å…·æœ‰é¢„ç¼–è¯‘åŠŸèƒ½
        ResultSet rs = null;

        try {
            conn = JDBCUtils2.getConnection();
            //4 ?:å ä½ç¬¦, ä¸ç®¡ä¼ å…¥ä»€ä¹ˆæ•°æ®, éƒ½åªä¼šå½“åšæ™®é€šå­—ç¬¦å¤„ç†.
            String sql = &quot;select * from users where username=? and password=? ;&quot;;
            ps = conn.prepareStatement(sql);

            //ç»™å ä½ç¬¦è®¾ç½®å€¼.
            ps.setString(1, uname);
            ps.setString(2, pw);
            //5
            rs = ps.executeQuery();      //è¿™é‡Œä¸èƒ½ä¼ å…¥SQLè¯­å¥, å› ä¸ºå·²ç»é¢„ç¼–è¯‘è¿‡äº†.
            //6
            /*if (rs.next()) {  //åˆ¤æ–­ç»“æœé›†ä¸­æ˜¯å¦æœ‰æ•°æ®
                System.out.println(&quot;ç™»å½•æˆåŠŸ&quot;);
            } else{
                System.out.println(&quot;ç™»å½•å¤±è´¥&quot;);
            }*/
            System.out.println(rs.next()? &quot;ç™»å½•æˆåŠŸ&quot; : &quot;ç”¨æˆ·åæˆ–è€…å¯†ç é”™è¯¯&quot;);
        } catch (Exception e) {
            e.printStackTrace();
        } finally {
            //7
            //ä¸ªäººå»ºè®®: å¼€å‘ä¸­åªè¦æ˜¯æ“ä½œå¯¹è±¡, å…ˆåšä¸ä¸ºnullæ ¡éªŒ.
            //Propertiesç±», load(), store()
            JDBCUtils2.release(conn,ps, rs);
        }

    }
}          JDBCUtils2.release(conn,ps, rs);
        }

    }
}
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[è®°ä¸€æ¬¡gä¼ä¸šé¢è¯•]]></title>
        <id>https://hashming.github.io/post/ji-yi-ci-g-qi-ye-mian-shi</id>
        <link href="https://hashming.github.io/post/ji-yi-ci-g-qi-ye-mian-shi">
        </link>
        <updated>2019-12-23T15:09:38.000Z</updated>
        <content type="html"><![CDATA[<p>Threadç±»çš„æ–¹æ³•ï¼šstartæ–¹æ³• ã€ runæ–¹æ³• ã€ getPriorityæ–¹æ³•<br>
å…¶ä¸­çš„getPriorityæ–¹æ³•å¯ä»¥ç”¨æ¥å–å¾—è¿›ç¨‹ã€è¿›ç¨‹ç»„å’Œç”¨æˆ·çš„è¿›ç¨‹æ‰§è¡Œä¼˜å…ˆæƒã€‚</p>
<p>java thread start() å’Œ run() åŒºåˆ«ï¼š</p>
<ol>
<li>
<p>start()<br>
public static void main(String[] args) {<br>
// TODO è‡ªåŠ¨ç”Ÿæˆçš„æ–¹æ³•å­˜æ ¹<br>
Thread t = new Thread() {<br>
public void run() {<br>
pong();<br>
}<br>
};</p>
<pre><code> t.start();
 System.out.print(&quot;ping&quot;);
</code></pre>
<p>}<br>
ã€€ã€€static void pong() {<br>
ã€€ã€€ã€€ã€€System.out.print(&quot;pong&quot;);</p>
<p>}</p>
</li>
</ol>
<p>}</p>
<p>æ‰§è¡Œçš„ç»“æœï¼špingpong</p>
<p>2.run()<br>
public static void main(String[] args) {<br>
// TODO è‡ªåŠ¨ç”Ÿæˆçš„æ–¹æ³•å­˜æ ¹<br>
Thread t = new Thread() {<br>
public void run() {<br>
pong();<br>
}<br>
};</p>
<pre><code>    t.run();
    System.out.print(&quot;ping&quot;);

}
</code></pre>
<p>static void pong() {<br>
ã€€ã€€ã€€ã€€System.out.print(&quot;pong&quot;);</p>
<pre><code>}
</code></pre>
<p>}</p>
<p>æ‰§è¡Œçš„ç»“æœï¼špongping</p>
<p>åŸå› ï¼š<br>
1ï¼‰ startï¼š<br>
ã€€ã€€ç”¨startæ–¹æ³•æ¥å¯åŠ¨çº¿ç¨‹ï¼ŒçœŸæ­£å®ç°äº†å¤šçº¿ç¨‹è¿è¡Œï¼Œè¿™æ—¶æ— éœ€ç­‰å¾…runæ–¹æ³•ä½“ä»£ç æ‰§è¡Œå®Œæ¯•è€Œç›´æ¥ç»§ç»­æ‰§è¡Œä¸‹é¢çš„ä»£ç ã€‚é€šè¿‡è°ƒç”¨Threadç±»çš„start()æ–¹æ³•æ¥å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹ï¼Œè¿™æ—¶æ­¤çº¿ç¨‹å¤„äºå°±ç»ªï¼ˆå¯è¿è¡Œï¼‰çŠ¶æ€ï¼Œå¹¶æ²¡æœ‰è¿è¡Œï¼Œä¸€æ—¦å¾—åˆ°cpuæ—¶é—´ç‰‡ï¼Œå°±å¼€å§‹æ‰§è¡Œrun() æ–¹æ³•ï¼Œè¿™é‡Œæ–¹æ³• run()ç§°ä¸ºçº¿ç¨‹ä½“ï¼Œå®ƒåŒ…å«äº†è¦æ‰§è¡Œçš„è¿™ä¸ªçº¿ç¨‹çš„å†…å®¹ï¼ŒRunæ–¹æ³•è¿è¡Œç»“æŸï¼Œæ­¤çº¿ç¨‹éšå³ç»ˆæ­¢ã€‚<br>
2ï¼‰ runï¼š<br>
ã€€ã€€ run()æ–¹æ³•åªæ˜¯ç±»çš„ä¸€ä¸ªæ™®é€šæ–¹æ³•è€Œå·²ï¼Œå¦‚æœç›´æ¥è°ƒç”¨Runæ–¹æ³•ï¼Œç¨‹åºä¸­ä¾ç„¶åªæœ‰ä¸»çº¿ç¨‹è¿™ä¸€ä¸ªçº¿ç¨‹ï¼Œå…¶ç¨‹åºæ‰§è¡Œè·¯å¾„è¿˜æ˜¯åªæœ‰ä¸€æ¡ï¼Œè¿˜æ˜¯è¦é¡ºåºæ‰§è¡Œï¼Œè¿˜æ˜¯ è¦ç­‰å¾…runæ–¹æ³•ä½“æ‰§è¡Œå®Œæ¯•åæ‰å¯ç»§ç»­æ‰§è¡Œä¸‹é¢çš„ä»£ç ï¼Œè¿™æ ·å°±æ²¡æœ‰è¾¾åˆ°å†™çº¿ç¨‹çš„ç›®çš„ã€‚æ€»ç»“ï¼šè°ƒç”¨startæ–¹æ³•æ–¹å¯å¯åŠ¨çº¿ç¨‹ï¼Œè€Œrunæ–¹æ³•åªæ˜¯ threadçš„ä¸€ä¸ªæ™®é€šæ–¹æ³•è°ƒç”¨ï¼Œè¿˜æ˜¯åœ¨ä¸»çº¿ç¨‹é‡Œæ‰§è¡Œã€‚è¿™ä¸¤ä¸ªæ–¹æ³•åº”è¯¥éƒ½æ¯”è¾ƒç†Ÿæ‚‰ï¼ŒæŠŠéœ€è¦å¹¶è¡Œå¤„ç†çš„ä»£ç æ”¾åœ¨run()æ–¹æ³•ä¸­ï¼Œstart()æ–¹æ³•å¯åŠ¨çº¿ç¨‹å°†è‡ªåŠ¨è°ƒç”¨ run()æ–¹æ³•ï¼Œè¿™æ˜¯ç”±jvmçš„å†…å­˜æœºåˆ¶è§„å®šçš„ã€‚å¹¶ä¸”run()æ–¹æ³•å¿…é¡»æ˜¯publicè®¿é—®æƒé™ï¼Œè¿”å›å€¼ç±»å‹ä¸ºvoid.ã€‚</p>
<p>HashSetç»§æ‰¿è‡ªAbstractSet</p>
<p>æˆ‘æƒ³çŸ¥é“ set   map   listéƒ½æ˜¯ç»§æ‰¿è‡ªä»€ä¹ˆåŒ…æ‹¬ä»–ä»¬ä¸­åŒ…å«çš„ç±»éƒ½ç»§æ‰¿è‡ªä»€ä¹ˆ</p>
<p>javaæ¥å£çš„ä¿®é¥°ç¬¦å¯ä»¥æ˜¯ï¼šfinal  abstract<br>
æ¥å£çš„ç›®çš„å°±æ˜¯ä¸ºäº†è§£å†³å¤šé‡ç»§æ‰¿çš„é—®é¢˜ã€‚ä¾‹å¦‚Fishç±»ç»§æ‰¿Animalç±»ï¼Œè¡¨æ˜Fishæ˜¯ä¸€ç§åŠ¨ç‰©ï¼Œä½†é±¼åŒæ ·ä¹Ÿæ˜¯ä¸€ç§é£Ÿç‰©ï¼Œå¦‚ä½•è¡¨ç¤ºè¿™ç§å…³ç³»å‘¢ï¼Ÿ ç”±äºJavaè¯­è¨€ä¸æ”¯æŒä¸€ä¸ªç±»æœ‰å¤šä¸ªç›´æ¥çš„çˆ¶ç±»ï¼Œå› æ­¤æ— æ³•ç”¨ç»§æ‰¿å…³ç³»æ¥æè¿°é±¼æ—¢æ˜¯ä¸€ç§é£Ÿç‰©ï¼Œåˆæ˜¯ä¸€ç§åŠ¨ç‰©ï¼Œä¸ºäº†è§£å†³è¿™ä¸€é—®é¢˜ï¼ŒJavaè¯­è¨€å¼•å…¥æ¥å£ç±»å‹ï¼Œç®€ç§°æ¥å£ã€‚ä¸€ä¸ªç±»åªèƒ½æœ‰ä¸€ä¸ªç›´æ¥çš„çˆ¶ç±»ï¼Œä½†æ˜¯å¯ä»¥å®ç°å¤šä¸ªæ¥å£ã€‚é‡‡ç”¨è¿™ç§æ–¹å¼ï¼ŒJavaè¯­è¨€å¯¹å¤šç»§æ‰¿æä¾›äº†æœ‰åŠ›çš„æ”¯æŒã€‚<br>
æ¥å£æ˜¯æŠ½è±¡ç±»çš„å¦å¤–ä¸€ç§å½¢å¼ï¼Œ æŠ½è±¡ç±»æŠ½è±¡åˆ°æè‡´å°±æ˜¯æ¥å£ï¼ŒæŠ½è±¡ç±»å¯å­˜åœ¨æœ‰æ–¹æ³•ä½“çš„æ–¹æ³•ï¼Œæ¥å£ä¸­çš„æ–¹æ³•å…¨éƒ¨ä¸ºæŠ½è±¡æ–¹æ³•ï¼›<br>
æ¥å£ä¸­çš„æ‰€æœ‰æ–¹æ³•å‡æ˜¯æŠ½è±¡æ–¹æ³•ï¼Œ é»˜è®¤éƒ½æ˜¯publicã€abstractç±»å‹çš„<br>
public interface A {<br>
void method1();//åˆæ³•ï¼Œé»˜è®¤ä¸ºpublicã€abstractç±»å‹<br>
public abstract void method2();//åˆæ³•ï¼Œæ˜¾ç¤ºå£°æ˜ä¸ºpublicã€abstractç±»å‹</p>
<p>æ¥å£ä¸­çš„æˆå‘˜å˜é‡é»˜è®¤éƒ½æ˜¯public, static, finalç±»å‹ï¼Œå¿…é¡»è¢«æ˜¾å¼åˆå§‹åŒ–ï¼›<br>
public interface A {<br>
int CONST = 1;  //åˆæ³•ï¼ŒCONSTé»˜è®¤ä¸ºpublic, static, finalç±»å‹<br>
public static final int OPAQUE = 1;  //åˆæ³•ï¼Œæ˜¾ç¤ºå£°æ˜ä¸ºpublic static final ç±»å‹<br>
}</p>
<p>æ¥å£ä¸­åªèƒ½åŒ…å«public, static, finalç±»å‹æˆå‘˜å˜é‡å’Œpublicã€abstractç±»å‹çš„æˆå‘˜æ–¹æ³•ï¼›<br>
æ¥å£ä¸­æ²¡æœ‰æ„é€ æ–¹æ³•ï¼Œä¸èƒ½è¢«å®ä¾‹åŒ–ã€‚<br>
ä¸€ä¸ªç±»åªèƒ½ç»§æ‰¿ä¸€ä¸ªç›´æ¥çš„çˆ¶ç±»ï¼Œä½†èƒ½å®ç°å¤šä¸ªæ¥å£ã€‚</p>
<p>æ¥å£å’ŒæŠ½è±¡ç±»çš„åŒºåˆ«ï¼š<br>
ç›¸åŒç‚¹ï¼š<br>
éƒ½ä¸èƒ½è¢«å®ä¾‹åŒ–<br>
éƒ½èƒ½åŒ…å«æŠ½è±¡æ–¹æ³•<br>
ä¸åŒç‚¹ï¼š<br>
æŠ½è±¡ç±»ä¸­å¯ä»¥ä¸ºéƒ¨åˆ†æ–¹æ³•æä¾›é»˜è®¤çš„å®ç°ï¼Œä»è€Œé¿å…å­ç±»ä¸­é‡å¤å®ç°ä»–ä»¬ï¼Œæé«˜ä»£ç çš„å¯é‡ç”¨æ€§ï¼Œè€Œæ¥å£ä¸­åªèƒ½åŒ…å«æŠ½è±¡çš„æ–¹æ³•ã€‚<br>
ä¸€ä¸ªç±»åªèƒ½ç»§æ‰¿ä¸€ä¸ªç›´æ¥çš„çˆ¶ç±»ï¼Œè¿™ä¸ªçˆ¶ç±»å¯èƒ½æ˜¯æŠ½è±¡ç±»ï¼Œä½†ä¸€ä¸ªç±»å¯ä»¥å®ç°å¤šä¸ªæ¥å£ï¼Œè¿™æ˜¯æ¥å£çš„ä¼˜åŠ¿æ‰€åœ¨</p>
<p>æ€»ç»“ï¼š<br>
æŠ½è±¡ç±»é‡Œé¢æ”¾ç€ç»å¸¸è¢«è°ƒç”¨çš„ä»£ç ã€‚<br>
æ¥å£çš„ä½œç”¨å°±æ˜¯ä¸ºäº†è§£å†³å¤šé‡ç»§æ‰¿ï¼Œä¹Ÿå°±æ˜¯æ‹“å±•åŠŸèƒ½ã€‚</p>
<p>é™æ€è¯­å¥å—ã€æ„é€ è¯­å¥å—ï¼ˆå°±æ˜¯åªæœ‰å¤§æ‹¬å·çš„é‚£å—ï¼‰ä»¥åŠæ„é€ å‡½æ•°çš„æ‰§è¡Œé¡ºåº<br>
class HelloA {</p>
<pre><code>public HelloA() {
    System.out.println(&quot;HelloA&quot;);
}

{ System.out.println(&quot;I'm A class&quot;); }

static { System.out.println(&quot;static A&quot;); }
</code></pre>
<p>}</p>
<p>public class HelloB extends HelloA {<br>
public HelloB() {<br>
System.out.println(&quot;HelloB&quot;);<br>
}</p>
<pre><code>{ System.out.println(&quot;I'm B class&quot;); }

static { System.out.println(&quot;static B&quot;); }

public static void main(String[] args) { 
</code></pre>
<p>new HelloB();<br>
ã€€ã€€ }</p>
<p>}</p>
<p>ç­”æ¡ˆï¼š<br>
static A<br>
static B<br>
I'm A class<br>
HelloA<br>
I'm B class<br>
HelloB</p>
<p>å¯¹è±¡çš„åˆå§‹åŒ–é¡ºåºï¼š<br>
ï¼ˆ1ï¼‰ç±»åŠ è½½ä¹‹åï¼ŒæŒ‰ä»ä¸Šåˆ°ä¸‹ï¼ˆä»çˆ¶ç±»åˆ°å­ç±»ï¼‰æ‰§è¡Œè¢«staticä¿®é¥°çš„è¯­å¥ï¼›<br>
ï¼ˆ2ï¼‰å½“staticè¯­å¥æ‰§è¡Œå®Œä¹‹å,å†æ‰§è¡Œmainæ–¹æ³•ï¼›<br>
ï¼ˆ3ï¼‰å¦‚æœæœ‰è¯­å¥newäº†è‡ªèº«çš„å¯¹è±¡ï¼Œå°†ä»ä¸Šåˆ°ä¸‹æ‰§è¡Œæ„é€ ä»£ç å—ã€æ„é€ å™¨ï¼ˆä¸¤è€…å¯ä»¥è¯´ç»‘å®šåœ¨ä¸€èµ·ï¼‰ã€‚<br>
ä¸‹é¢ç¨å¾®ä¿®æ”¹ä¸‹ä¸Šé¢çš„ä»£ç ï¼Œä»¥ä¾¿æ›´æ¸…æ™°çš„è¯´æ˜æƒ…å†µï¼š<br>
class HelloA {</p>
<pre><code>public HelloA() {
    System.out.println(&quot;HelloA&quot;);
}

{ System.out.println(&quot;I'm A class&quot;); }

static { System.out.println(&quot;static A&quot;); }
</code></pre>
<p>}</p>
<p>public class HelloB extends HelloA {<br>
public HelloB() {<br>
System.out.println(&quot;HelloB&quot;);<br>
}</p>
<pre><code>{ System.out.println(&quot;I'm B class&quot;); }

static { System.out.println(&quot;static B&quot;); }

public static void main(String[] args) {

    System.out.println(&quot;-------main start-------&quot;);
    new HelloB();
    new HelloB();
    System.out.println(&quot;-------main end-------&quot;);
}
</code></pre>
<p>}</p>
<p>ç»“æœï¼š<br>
static A<br>
static B<br>
-------main start-------<br>
I'm A class<br>
HelloA<br>
I'm B class<br>
HelloB<br>
I'm A class<br>
HelloA<br>
I'm B class<br>
HelloB<br>
-------main end-------</p>
<p>è€ƒå¯Ÿå¤šä¸ªcatchè¯­å¥å—çš„æ‰§è¡Œé¡ºåº<br>
public void getCustomerInfo() {</p>
<pre><code>    try {

        // do something that may cause an Exception

    } catch (java.io.FileNotFoundException ex) {

        System.out.print(&quot;FileNotFoundException!&quot;);

    } catch (java.io.IOException ex) {

        System.out.print(&quot;IOException!&quot;);

    } catch (java.lang.Exception ex) {

        System.out.print(&quot;Exception!&quot;);

    }

}
</code></pre>
<p>A IOException!<br>
BIOException!Exception!<br>
CFileNotFoundException!IOException!<br>
DFileNotFoundException!IOException!Exception!<br>
ç­”æ¡ˆï¼šA<br>
è§£æï¼šè€ƒå¯Ÿå¤šä¸ªcatchè¯­å¥å—çš„æ‰§è¡Œé¡ºåºã€‚å½“ç”¨å¤šä¸ªcatchè¯­å¥æ—¶ï¼Œcatchè¯­å¥å—åœ¨æ¬¡åºä¸Šæœ‰å…ˆåä¹‹åˆ†ã€‚ä»æœ€å‰é¢çš„catchè¯­å¥å—ä¾æ¬¡å…ˆåè¿›è¡Œå¼‚å¸¸ç±»å‹åŒ¹é…ï¼Œè¿™æ ·å¦‚æœçˆ¶å¼‚å¸¸åœ¨å­å¼‚å¸¸ç±»ä¹‹å‰ï¼Œé‚£ä¹ˆé¦–å…ˆåŒ¹é…çš„å°†æ˜¯çˆ¶å¼‚å¸¸ç±»ï¼Œå­å¼‚å¸¸ç±»å°†ä¸ä¼šè·å¾—åŒ¹é…çš„æœºä¼šï¼Œä¹Ÿå³å­å¼‚å¸¸ç±»å‹æ‰€åœ¨çš„catchè¯­å¥å—å°†æ˜¯ä¸å¯åˆ°è¾¾çš„è¯­å¥ã€‚æ‰€ä»¥ï¼Œä¸€èˆ¬å°†çˆ¶ç±»å¼‚å¸¸ç±»å³Exceptionè€å¤§æ”¾åœ¨catchè¯­å¥å—çš„æœ€åä¸€ä¸ªã€‚</p>
<p>é”™è¯¯å¼‚å¸¸å¤„ç†<br>
26. ä¸‹åˆ—å“ªç§å¼‚å¸¸æ˜¯æ£€æŸ¥å‹å¼‚å¸¸ï¼Œéœ€è¦åœ¨ç¼–å†™ç¨‹åºæ—¶å£°æ˜ ï¼ˆï¼‰<br>
ANullPointerException        BClassCastException      CFileNotFoundException       D IndexOutOfBoundsException<br>
è§£ç­”ï¼š</p>
<ol>
<li>java.lang.Error: Throwableçš„å­ç±»ï¼Œç”¨äºæ ‡è®°ä¸¥é‡é”™è¯¯ã€‚åˆç†çš„åº”ç”¨ç¨‹åºä¸åº”è¯¥å»try/catchè¿™ç§é”™è¯¯ã€‚ç»å¤§å¤šæ•°çš„é”™è¯¯éƒ½æ˜¯éæ­£å¸¸çš„ï¼Œå°±æ ¹æœ¬ä¸è¯¥å‡ºç°çš„ã€‚<br>
java.lang.Exception: Throwableçš„å­ç±»ï¼Œç”¨äºæŒ‡ç¤ºä¸€ç§åˆç†çš„ç¨‹åºæƒ³å»catchçš„æ¡ä»¶ã€‚å³å®ƒä»…ä»…æ˜¯ä¸€ç§ç¨‹åºè¿è¡Œæ¡ä»¶ï¼Œè€Œéä¸¥é‡é”™è¯¯ï¼Œå¹¶ä¸”é¼“åŠ±ç”¨æˆ·ç¨‹åºå»catchå®ƒã€‚</li>
<li>Errorå’ŒRuntimeException åŠå…¶å­ç±»éƒ½æ˜¯æœªæ£€æŸ¥çš„å¼‚å¸¸ï¼ˆunchecked exceptionsï¼‰ï¼Œè€Œæ‰€æœ‰å…¶ä»–çš„Exceptionç±»éƒ½æ˜¯æ£€æŸ¥äº†çš„å¼‚å¸¸ï¼ˆchecked exceptionsï¼‰.<br>
checked exceptions: é€šå¸¸æ˜¯ä»ä¸€ä¸ªå¯ä»¥æ¢å¤çš„ç¨‹åºä¸­æŠ›å‡ºæ¥çš„ï¼Œå¹¶ä¸”æœ€å¥½èƒ½å¤Ÿä»è¿™ç§å¼‚å¸¸ä¸­ä½¿ç”¨ç¨‹åºæ¢å¤ã€‚æ¯”å¦‚FileNotFoundException, ParseExceptionç­‰ã€‚æ£€æŸ¥äº†çš„å¼‚å¸¸å‘ç”Ÿåœ¨ç¼–è¯‘é˜¶æ®µï¼Œå¿…é¡»è¦ä½¿ç”¨tryâ€¦catchï¼ˆæˆ–è€…throwsï¼‰å¦åˆ™ç¼–è¯‘ä¸é€šè¿‡ã€‚<br>
unchecked exceptions: é€šå¸¸æ˜¯å¦‚æœä¸€åˆ‡æ­£å¸¸çš„è¯æœ¬ä¸è¯¥å‘ç”Ÿçš„å¼‚å¸¸ï¼Œä½†æ˜¯çš„ç¡®å‘ç”Ÿäº†ã€‚å‘ç”Ÿåœ¨è¿è¡ŒæœŸï¼Œå…·æœ‰ä¸ç¡®å®šæ€§ï¼Œä¸»è¦æ˜¯ç”±äºç¨‹åºçš„é€»è¾‘é—®é¢˜æ‰€å¼•èµ·çš„ã€‚æ¯”å¦‚ArrayIndexOutOfBoundException, ClassCastExceptionç­‰ã€‚ä»è¯­è¨€æœ¬èº«çš„è§’åº¦è®²ï¼Œç¨‹åºä¸è¯¥å»catchè¿™ç±»å¼‚å¸¸ï¼Œè™½ç„¶èƒ½å¤Ÿä»è¯¸å¦‚RuntimeExceptionè¿™æ ·çš„å¼‚å¸¸ä¸­catchå¹¶æ¢å¤ï¼Œä½†æ˜¯å¹¶ä¸é¼“åŠ±ç»ˆç«¯ç¨‹åºå‘˜è¿™ä¹ˆåšï¼Œå› ä¸ºå®Œå…¨æ²¡è¦å¿…è¦ã€‚å› ä¸ºè¿™ç±»é”™è¯¯æœ¬èº«å°±æ˜¯bugï¼Œåº”è¯¥è¢«ä¿®å¤ï¼Œå‡ºç°æ­¤ç±»é”™è¯¯æ—¶ç¨‹åºå°±åº”è¯¥ç«‹å³åœæ­¢æ‰§è¡Œã€‚ å› æ­¤ï¼Œé¢å¯¹Errorså’Œunchecked exceptionsåº”è¯¥è®©ç¨‹åºè‡ªåŠ¨ç»ˆæ­¢æ‰§è¡Œï¼Œç¨‹åºå‘˜ä¸è¯¥åšè¯¸å¦‚try/catchè¿™æ ·çš„äº‹æƒ…ï¼Œè€Œæ˜¯åº”è¯¥æŸ¥æ˜åŸå› ï¼Œä¿®æ”¹ä»£ç é€»è¾‘ã€‚<br>
RuntimeExceptionï¼šRuntimeExceptionä½“ç³»åŒ…æ‹¬é”™è¯¯çš„ç±»å‹è½¬æ¢ã€æ•°ç»„è¶Šç•Œè®¿é—®å’Œè¯•å›¾è®¿é—®ç©ºæŒ‡é’ˆç­‰ç­‰ã€‚<br>
å¤„ç†RuntimeExceptionçš„åŸåˆ™æ˜¯ï¼šå¦‚æœå‡ºç° RuntimeExceptionï¼Œé‚£ä¹ˆä¸€å®šæ˜¯ç¨‹åºå‘˜çš„é”™è¯¯ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥é€šè¿‡æ£€æŸ¥æ•°ç»„ä¸‹æ ‡å’Œæ•°ç»„è¾¹ç•Œæ¥é¿å…æ•°ç»„è¶Šç•Œè®¿é—®å¼‚å¸¸ã€‚å…¶ä»–ï¼ˆIOExceptionç­‰ç­‰ï¼‰checkedå¼‚å¸¸ä¸€èˆ¬æ˜¯å¤–éƒ¨é”™è¯¯ï¼Œä¾‹å¦‚è¯•å›¾ä»æ–‡ä»¶å°¾åè¯»å–æ•°æ®ç­‰ï¼Œè¿™å¹¶ä¸æ˜¯ç¨‹åºæœ¬èº«çš„é”™è¯¯ï¼Œè€Œæ˜¯åœ¨åº”ç”¨ç¯å¢ƒä¸­å‡ºç°çš„å¤–éƒ¨é”™è¯¯ã€‚</li>
</ol>
<p>caseä¸­çš„Break:<br>
ä¸‹é¢çš„æ–¹æ³•ï¼Œå½“è¾“å…¥ä¸º2çš„æ—¶å€™è¿”å›å€¼æ˜¯å¤šå°‘?ï¼ˆï¼‰<br>
public static int getValue(int i) {<br>
int result = 0;<br>
switch (i) {<br>
case 1:<br>
result = result + i;<br>
case 2:<br>
result = result + i * 2;<br>
case 3:<br>
result = result + i * 3;<br>
}<br>
return result;<br>
}</p>
<p>A0                    B2                    C4                     D10<br>
è§£æï¼šæ³¨æ„è¿™é‡Œcaseåé¢æ²¡æœ‰åŠ breakï¼Œæ‰€ä»¥ä»case 2å¼€å§‹ä¸€ç›´å¾€ä¸‹è¿è¡Œã€‚</p>
<p>çˆ¶ç±»ä¸å­ç±»çš„æ„é€ å‡½æ•°è°ƒç”¨æ¬¡åº<br>
ä¸‹é¢æ˜¯Peopleå’ŒChildç±»çš„å®šä¹‰å’Œæ„é€ æ–¹æ³•ï¼Œæ¯ä¸ªæ„é€ æ–¹æ³•éƒ½è¾“å‡ºç¼–å·ã€‚åœ¨æ‰§è¡Œnew Child(&quot;mike&quot;)çš„æ—¶å€™éƒ½æœ‰å“ªäº›æ„é€ æ–¹æ³•è¢«é¡ºåºè°ƒç”¨ï¼Ÿè¯·é€‰æ‹©è¾“å‡ºç»“æœ ( )<br>
class People {<br>
String name;</p>
<pre><code>public People() {
    System.out.print(1);
}

public People(String name) {
    System.out.print(2);
    this.name = name;
}
</code></pre>
<p>}</p>
<p>class Child extends People {<br>
People father;</p>
<pre><code>public Child(String name) {
    System.out.print(3);
    this.name = name;
    father = new People(name + &quot;:F&quot;);
}

public Child() {
    System.out.print(4);
}
</code></pre>
<p>}</p>
<p>A312              B 32               C 432              D 132<br>
ç­”æ¡ˆï¼šD<br>
è§£æï¼šè€ƒå¯Ÿçš„åˆæ˜¯çˆ¶ç±»ä¸å­ç±»çš„æ„é€ å‡½æ•°è°ƒç”¨æ¬¡åºã€‚åœ¨Javaä¸­ï¼Œå­ç±»çš„æ„é€ è¿‡ç¨‹ä¸­å¿…é¡»è°ƒç”¨å…¶çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œæ˜¯å› ä¸ºæœ‰ç»§æ‰¿å…³ç³»å­˜åœ¨æ—¶ï¼Œå­ç±»è¦æŠŠçˆ¶ç±»çš„å†…å®¹ç»§æ‰¿ä¸‹æ¥ã€‚ä½†å¦‚æœçˆ¶ç±»æœ‰å¤šä¸ªæ„é€ å‡½æ•°æ—¶ï¼Œè¯¥å¦‚ä½•é€‰æ‹©è°ƒç”¨å‘¢ï¼Ÿ<br>
ç¬¬ä¸€ä¸ªè§„åˆ™ï¼šå­ç±»çš„æ„é€ è¿‡ç¨‹ä¸­ï¼Œå¿…é¡»è°ƒç”¨å…¶çˆ¶ç±»çš„æ„é€ æ–¹æ³•ã€‚ä¸€ä¸ªç±»ï¼Œå¦‚æœæˆ‘ä»¬ä¸å†™æ„é€ æ–¹æ³•ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨ä¼šå¸®æˆ‘ä»¬åŠ ä¸Šä¸€ä¸ªé»˜è®¤çš„æ„é€ æ–¹æ³•ï¼ˆå°±æ˜¯æ²¡æœ‰å‚æ•°çš„æ„é€ æ–¹æ³•ï¼‰ï¼Œä½†æ˜¯å¦‚æœä½ è‡ªå·±å†™äº†æ„é€ æ–¹æ³•ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨å°±ä¸ä¼šç»™ä½ æ·»åŠ äº†ï¼Œæ‰€ä»¥æœ‰æ—¶å€™å½“ä½ newä¸€ä¸ªå­ç±»å¯¹è±¡çš„æ—¶å€™ï¼Œè‚¯å®šè°ƒç”¨äº†å­ç±»çš„æ„é€ æ–¹æ³•ï¼Œä½†æ˜¯å¦‚æœåœ¨å­ç±»æ„é€ æ–¹æ³•ä¸­æˆ‘ä»¬å¹¶æ²¡æœ‰æ˜¾ç¤ºçš„è°ƒç”¨åŸºç±»çš„æ„é€ æ–¹æ³•ï¼Œå¦‚ï¼šsuper();  è¿™æ ·å°±ä¼šè°ƒç”¨çˆ¶ç±»æ²¡æœ‰å‚æ•°çš„æ„é€ æ–¹æ³•ã€‚<br>
ç¬¬äºŒä¸ªè§„åˆ™ï¼šå¦‚æœå­ç±»çš„æ„é€ æ–¹æ³•ä¸­æ—¢æ²¡æœ‰æ˜¾ç¤ºçš„è°ƒç”¨åŸºç±»æ„é€ æ–¹æ³•ï¼Œè€ŒåŸºç±»ä¸­åˆæ²¡æœ‰æ— å‚çš„æ„é€ æ–¹æ³•ï¼Œåˆ™ç¼–è¯‘å‡ºé”™ï¼Œæ‰€ä»¥ï¼Œé€šå¸¸æˆ‘ä»¬éœ€è¦æ˜¾ç¤ºçš„ï¼šsuper(å‚æ•°åˆ—è¡¨)ï¼Œæ¥è°ƒç”¨çˆ¶ç±»æœ‰å‚æ•°çš„æ„é€ å‡½æ•°ï¼Œæ­¤æ—¶æ— å‚çš„æ„é€ å‡½æ•°å°±ä¸ä¼šè¢«è°ƒç”¨ã€‚<br>
æ€»ä¹‹ï¼Œä¸€å¥è¯ï¼šå­ç±»æ²¡æœ‰æ˜¾ç¤ºè°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°ï¼Œä¸ç®¡å­ç±»æ„é€ å‡½æ•°æ˜¯å¦å¸¦å‚æ•°éƒ½é»˜è®¤è°ƒç”¨çˆ¶ç±»æ— å‚çš„æ„é€ å‡½æ•°ï¼Œè‹¥çˆ¶ç±»æ²¡æœ‰åˆ™ç¼–è¯‘å‡ºé”™ã€‚<br>
public class Dervied extends Base {</p>
<pre><code>private String name = &quot;dervied&quot;;

public Dervied() {
    tellName();
    printName();
}

public void tellName() {
    System.out.println(&quot;Dervied tell name: &quot; + name);
}

public void printName() {
    System.out.println(&quot;Dervied print name: &quot; + name);
}

public static void main(String[] args){
    
    new Dervied();    
}
</code></pre>
<p>}</p>
<p>class Base {</p>
<pre><code>private String name = &quot;base&quot;;

public Base() {
    tellName();
    printName();
}

public void tellName() {
    System.out.println(&quot;Base tell name: &quot; + name);
}

public void printName() {
    System.out.println(&quot;Base print name: &quot; + name);
}
</code></pre>
<p>}</p>
<p>æ‰©å±•</p>
<p>ä¸šåŠ¡æœåŠ¡å™¨æ¯ç§’å¯ä»¥å¤„ç†1000ä¸ªè¯·æ±‚ï¼Œå¹¶å‘æ•°æ®åº“è¿›è¡Œå†™æ“ä½œï¼Œç°åœ¨è¦æå‡æœåŠ¡èƒ½åŠ›ï¼Œä½¿æœåŠ¡å™¨æ¯ç§’å¯ä»¥å¤„ç†æ›´å¤šçš„è¯·æ±‚ï¼Œä½ ä¼šæ€æ ·è§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿè¯·å°½é‡å…¨é¢çš„è€ƒè™‘å¯èƒ½é‡åˆ°çš„æƒ…å†µï¼š<br>
https://www.idcbest.com/jjfanews/11004238.html</p>
<p>ç»™å®šä¸€ä¸ª query å’Œä¸€ä¸ª text,å‡ç”±å°å†™å­—æ¯ç»„æˆã€‚è¦æ±‚åœ¨ text ä¸­æ‰¾å‡ºä»¥åŒæ ·çš„é¡ºåºè¿ ç»­å‡ºç°åœ¨ query ä¸­çš„æœ€é•¿è¿ç»­å­—æ¯åºåˆ—çš„é•¿åº¦ã€‚ä¾‹å¦‚, query ä¸ºâ€œacbacâ€,text<br>
package com.interview;</p>
<p>import java.util.ArrayList;<br>
import java.util.List;<br>
import java.util.Set;<br>
import java.util.regex.Matcher;<br>
import java.util.regex.Pattern;</p>
<p>/**</p>
<ul>
<li>ç»™å®šä¸€ä¸ª query å’Œä¸€ä¸ª text,å‡ç”±å°å†™å­—æ¯ç»„æˆã€‚</li>
<li>è¦æ±‚åœ¨ text ä¸­æ‰¾å‡ºä»¥åŒæ ·çš„é¡ºåºè¿ ç»­å‡ºç°åœ¨ query ä¸­çš„æœ€é•¿è¿ç»­å­—æ¯åºåˆ—çš„é•¿åº¦ã€‚</li>
<li>ä¾‹å¦‚, query ä¸ºâ€œacbacâ€,text ä¸º â€œacaccbabbâ€,é‚£ä¹ˆ text ä¸­çš„â€œcbaâ€ä¸º</li>
<li>æœ€é•¿çš„è¿ç»­å‡ºç°åœ¨ query ä¸­çš„å­—æ¯åºåˆ—,å› æ­¤, è¿”å›ç»“æœåº”è¯¥ä¸ºå…¶é•¿åº¦ 3ã€‚è¯·æ³¨æ„ç¨‹åºæ•ˆç‡ã€‚<br>
*/</li>
</ul>
<p>/**</p>
<ul>
<li>
<p>åˆšå¼€å§‹æ€è·¯æœ‰ç‚¹åï¼Œæƒ³è¦åˆ©ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼Œåæ¥å‘ç°æ²¡æœ‰å¿…è¦...<br>
*/<br>
public class Test2 {<br>
public static void main(String[] args) {<br>
String query = &quot;acbac&quot;;<br>
String text = &quot;acaccbabb&quot;;<br>
boolean b = false;<br>
String result = &quot;&quot;;<br>
List<String> list = new ArrayList&lt;&gt;();</p>
<pre><code> //ä¸­å¿ƒæ€æƒ³
 //æ‰¾åˆ°queryçš„ä¸åŒç»„åˆï¼Œç„¶åçœ‹textä¸­æ˜¯å¦åŒ…å«è¯¥ç»„åˆå°±å¥½
 System.out.println(text.contains(&quot;cba&quot;));
 //iæ˜¯æœ€é•¿è¿ç»­å­—æ¯åºåˆ—çš„é•¿åº¦
 for (int i = query.length(); i &gt;= 1; i--) {
     //ç»„åˆæ•° j
     int j = (query.length() + 1) - i;
     //mæ˜¯æ¯ä¸ªå­—ç¬¦ä¸²çš„é•¿åº¦èµ·ç‚¹
     for (int m = 0; m &lt; j; m++) {
         String que = query.substring(m, m + i);
         //ç”¨æ¥åŠ å¿«é€Ÿåº¦ï¼Œå¦‚æœlisté‡Œé¢åŒ…å«æœ‰ç›¸åŒçš„å­—ç¬¦ä¸²å°±è·³è¿‡
         if (list.contains(que)) {
             continue;
         }
         //System.out.println(que);  //å¯ä»¥ç”¨æ¥æŸ¥çœ‹è¾“å‡ºç»“æœ
         if (text.contains(que)) {
             result = que;
             b = true;
             break;
         }
         list.add(que);
     }
     if (b) {
         break;
     }
 }
 System.out.println(&quot;å­—ç¬¦ä¸²ä¸ºï¼š&quot; + result);
 System.out.println(&quot;é•¿åº¦ä¸ºï¼š&quot; + result.length());
</code></pre>
<p>}<br>
}</p>
</li>
</ul>
<p>å¦‚æœæœ‰è¿™æ ·ä¸€ä¸ªç¨‹åºï¼Œæœ‰ä¸€ä¸ªä»“åº“ç±»ï¼Œä»–æœ‰ä¸€ä¸ªä»“åº“æœ€å¤§å®¹ç§¯çš„å˜é‡å’Œæ·»åŠ è´§ç‰©å’Œå–èµ°è´§ç‰©çš„æ–¹æ³•ï¼Œå¹¶ä¸”æœ‰å¤šä¸ªçº¿ç¨‹åœ¨æ“ä½œè¿™ä¸ªè¿™æ ·ä¸€ä¸ªä»“åº“çš„å¯¹è±¡ï¼Œé‚£ä¹ˆå¦‚ä½•ä¿è¯çº¿ç¨‹ä¹‹é—´çš„åè°ƒå‘¢ï¼Ÿä¸è‡³äºæ»¡äº†è¿˜æ”¾ï¼Œæ²¡äº†è¿˜æ‹¿ã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ArrayListçš„æ‰©å®¹æœºåˆ¶ï¼ˆæ‘˜æŠ„ï¼‰]]></title>
        <id>https://hashming.github.io/post/arraylist-de-kuo-rong-ji-zhi-zhai-chao</id>
        <link href="https://hashming.github.io/post/arraylist-de-kuo-rong-ji-zhi-zhai-chao">
        </link>
        <updated>2019-12-17T08:19:32.000Z</updated>
        <content type="html"><![CDATA[<h2 id="ä¸€-å…ˆä»-arraylist-çš„æ„é€ å‡½æ•°è¯´èµ·">ä¸€ å…ˆä» ArrayList çš„æ„é€ å‡½æ•°è¯´èµ·</h2>
<p><strong>ArrayListæœ‰ä¸‰ç§æ–¹å¼æ¥åˆå§‹åŒ–ï¼Œæ„é€ æ–¹æ³•æºç å¦‚ä¸‹ï¼š</strong></p>
<pre><code class="language-java">   /**
     * é»˜è®¤åˆå§‹å®¹é‡å¤§å°
     */
    private static final int DEFAULT_CAPACITY = 10;
    

    private static final Object[] DEFAULTCAPACITY_EMPTY_ELEMENTDATA = {};

    /**
     *é»˜è®¤æ„é€ å‡½æ•°ï¼Œä½¿ç”¨åˆå§‹å®¹é‡10æ„é€ ä¸€ä¸ªç©ºåˆ—è¡¨(æ— å‚æ•°æ„é€ )
     */
    public ArrayList() {
        this.elementData = DEFAULTCAPACITY_EMPTY_ELEMENTDATA;
    }
    
    /**
     * å¸¦åˆå§‹å®¹é‡å‚æ•°çš„æ„é€ å‡½æ•°ã€‚ï¼ˆç”¨æˆ·è‡ªå·±æŒ‡å®šå®¹é‡ï¼‰
     */
    public ArrayList(int initialCapacity) {
        if (initialCapacity &gt; 0) {//åˆå§‹å®¹é‡å¤§äº0
            //åˆ›å»ºinitialCapacityå¤§å°çš„æ•°ç»„
            this.elementData = new Object[initialCapacity];
        } else if (initialCapacity == 0) {//åˆå§‹å®¹é‡ç­‰äº0
            //åˆ›å»ºç©ºæ•°ç»„
            this.elementData = EMPTY_ELEMENTDATA;
        } else {//åˆå§‹å®¹é‡å°äº0ï¼ŒæŠ›å‡ºå¼‚å¸¸
            throw new IllegalArgumentException(&quot;Illegal Capacity: &quot;+
                                               initialCapacity);
        }
    }


   /**
    *æ„é€ åŒ…å«æŒ‡å®šcollectionå…ƒç´ çš„åˆ—è¡¨ï¼Œè¿™äº›å…ƒç´ åˆ©ç”¨è¯¥é›†åˆçš„è¿­ä»£å™¨æŒ‰é¡ºåºè¿”å›
    *å¦‚æœæŒ‡å®šçš„é›†åˆä¸ºnullï¼Œthrows NullPointerExceptionã€‚ 
    */
     public ArrayList(Collection&lt;? extends E&gt; c) {
        elementData = c.toArray();
        if ((size = elementData.length) != 0) {
            // c.toArray might (incorrectly) not return Object[] (see 6260652)
            if (elementData.getClass() != Object[].class)
                elementData = Arrays.copyOf(elementData, size, Object[].class);
        } else {
            // replace with empty array.
            this.elementData = EMPTY_ELEMENTDATA;
        }
    }

</code></pre>
<p>ç»†å¿ƒçš„åŒå­¦ä¸€å®šä¼šå‘ç° ï¼š<strong>ä»¥æ— å‚æ•°æ„é€ æ–¹æ³•åˆ›å»º ArrayList æ—¶ï¼Œå®é™…ä¸Šåˆå§‹åŒ–èµ‹å€¼çš„æ˜¯ä¸€ä¸ªç©ºæ•°ç»„ã€‚å½“çœŸæ­£å¯¹æ•°ç»„è¿›è¡Œæ·»åŠ å…ƒç´ æ“ä½œæ—¶ï¼Œæ‰çœŸæ­£åˆ†é…å®¹é‡ã€‚å³å‘æ•°ç»„ä¸­æ·»åŠ ç¬¬ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œæ•°ç»„å®¹é‡æ‰©ä¸º10ã€‚</strong> ä¸‹é¢åœ¨æˆ‘ä»¬åˆ†æ ArrayList æ‰©å®¹æ—¶ä¼šè®²åˆ°è¿™ä¸€ç‚¹å†…å®¹ï¼</p>
<h2 id="äºŒ-ä¸€æ­¥ä¸€æ­¥åˆ†æ-arraylist-æ‰©å®¹æœºåˆ¶">äºŒ ä¸€æ­¥ä¸€æ­¥åˆ†æ ArrayList æ‰©å®¹æœºåˆ¶</h2>
<p>è¿™é‡Œä»¥æ— å‚æ„é€ å‡½æ•°åˆ›å»ºçš„ ArrayList ä¸ºä¾‹åˆ†æ</p>
<h3 id="1-å…ˆæ¥çœ‹-add-æ–¹æ³•">1. å…ˆæ¥çœ‹ <code>add</code> æ–¹æ³•</h3>
<pre><code class="language-java">    /**
     * å°†æŒ‡å®šçš„å…ƒç´ è¿½åŠ åˆ°æ­¤åˆ—è¡¨çš„æœ«å°¾ã€‚ 
     */
    public boolean add(E e) {
   //æ·»åŠ å…ƒç´ ä¹‹å‰ï¼Œå…ˆè°ƒç”¨ensureCapacityInternalæ–¹æ³•
        ensureCapacityInternal(size + 1);  // Increments modCount!!
        //è¿™é‡Œçœ‹åˆ°ArrayListæ·»åŠ å…ƒç´ çš„å®è´¨å°±ç›¸å½“äºä¸ºæ•°ç»„èµ‹å€¼
        elementData[size++] = e;
        return true;
    }
</code></pre>
<h3 id="2-å†æ¥çœ‹çœ‹-ensurecapacityinternal-æ–¹æ³•">2. å†æ¥çœ‹çœ‹ <code>ensureCapacityInternal()</code> æ–¹æ³•</h3>
<p>å¯ä»¥çœ‹åˆ° <code>add</code> æ–¹æ³• é¦–å…ˆè°ƒç”¨äº†<code>ensureCapacityInternal(size + 1)</code></p>
<pre><code class="language-java">   //å¾—åˆ°æœ€å°æ‰©å®¹é‡
    private void ensureCapacityInternal(int minCapacity) {
        if (elementData == DEFAULTCAPACITY_EMPTY_ELEMENTDATA) {
              // è·å–é»˜è®¤çš„å®¹é‡å’Œä¼ å…¥å‚æ•°çš„è¾ƒå¤§å€¼
            minCapacity = Math.max(DEFAULT_CAPACITY, minCapacity);
        }

        ensureExplicitCapacity(minCapacity);
    }
</code></pre>
<p><strong>å½“ è¦ add è¿›ç¬¬1ä¸ªå…ƒç´ æ—¶ï¼ŒminCapacityä¸º1ï¼Œåœ¨Math.max()æ–¹æ³•æ¯”è¾ƒåï¼ŒminCapacity ä¸º10ã€‚</strong></p>
<h3 id="3-ensureexplicitcapacity-æ–¹æ³•">3. <code>ensureExplicitCapacity()</code> æ–¹æ³•</h3>
<p>å¦‚æœè°ƒç”¨ <code>ensureCapacityInternal()</code> æ–¹æ³•å°±ä¸€å®šä¼šè¿›è¿‡ï¼ˆæ‰§è¡Œï¼‰è¿™ä¸ªæ–¹æ³•ï¼Œä¸‹é¢æˆ‘ä»¬æ¥ç ”ç©¶ä¸€ä¸‹è¿™ä¸ªæ–¹æ³•çš„æºç ï¼</p>
<pre><code class="language-java">  //åˆ¤æ–­æ˜¯å¦éœ€è¦æ‰©å®¹
    private void ensureExplicitCapacity(int minCapacity) {
        modCount++;

        // overflow-conscious code
        if (minCapacity - elementData.length &gt; 0)
            //è°ƒç”¨growæ–¹æ³•è¿›è¡Œæ‰©å®¹ï¼Œè°ƒç”¨æ­¤æ–¹æ³•ä»£è¡¨å·²ç»å¼€å§‹æ‰©å®¹äº†
            grow(minCapacity);
    }

</code></pre>
<p>æˆ‘ä»¬æ¥ä»”ç»†åˆ†æä¸€ä¸‹ï¼š</p>
<ul>
<li>å½“æˆ‘ä»¬è¦ add è¿›ç¬¬1ä¸ªå…ƒç´ åˆ° ArrayList æ—¶ï¼ŒelementData.length ä¸º0 ï¼ˆå› ä¸ºè¿˜æ˜¯ä¸€ä¸ªç©ºçš„ listï¼‰ï¼Œå› ä¸ºæ‰§è¡Œäº† <code>ensureCapacityInternal()</code> æ–¹æ³• ï¼Œæ‰€ä»¥ minCapacity æ­¤æ—¶ä¸º10ã€‚æ­¤æ—¶ï¼Œ<code>minCapacity - elementData.length &gt; 0</code>æˆç«‹ï¼Œæ‰€ä»¥ä¼šè¿›å…¥ <code>grow(minCapacity)</code> æ–¹æ³•ã€‚</li>
<li>å½“addç¬¬2ä¸ªå…ƒç´ æ—¶ï¼ŒminCapacity ä¸º2ï¼Œæ­¤æ—¶e lementData.length(å®¹é‡)åœ¨æ·»åŠ ç¬¬ä¸€ä¸ªå…ƒç´ åæ‰©å®¹æˆ 10 äº†ã€‚æ­¤æ—¶ï¼Œ<code>minCapacity - elementData.length &gt; 0</code> ä¸æˆç«‹ï¼Œæ‰€ä»¥ä¸ä¼šè¿›å…¥ ï¼ˆæ‰§è¡Œï¼‰<code>grow(minCapacity)</code> æ–¹æ³•ã€‚</li>
<li>æ·»åŠ ç¬¬3ã€4Â·Â·Â·åˆ°ç¬¬10ä¸ªå…ƒç´ æ—¶ï¼Œä¾ç„¶ä¸ä¼šæ‰§è¡Œgrowæ–¹æ³•ï¼Œæ•°ç»„å®¹é‡éƒ½ä¸º10ã€‚</li>
</ul>
<p>ç›´åˆ°æ·»åŠ ç¬¬11ä¸ªå…ƒç´ ï¼ŒminCapacity(ä¸º11)æ¯”elementData.lengthï¼ˆä¸º10ï¼‰è¦å¤§ã€‚è¿›å…¥growæ–¹æ³•è¿›è¡Œæ‰©å®¹ã€‚</p>
<h3 id="4-grow-æ–¹æ³•">4. <code>grow()</code> æ–¹æ³•</h3>
<pre><code class="language-java">    /**
     * è¦åˆ†é…çš„æœ€å¤§æ•°ç»„å¤§å°
     */
    private static final int MAX_ARRAY_SIZE = Integer.MAX_VALUE - 8;

    /**
     * ArrayListæ‰©å®¹çš„æ ¸å¿ƒæ–¹æ³•ã€‚
     */
    private void grow(int minCapacity) {
        // oldCapacityä¸ºæ—§å®¹é‡ï¼ŒnewCapacityä¸ºæ–°å®¹é‡
        int oldCapacity = elementData.length;
        //å°†oldCapacity å³ç§»ä¸€ä½ï¼Œå…¶æ•ˆæœç›¸å½“äºoldCapacity /2ï¼Œ
        //æˆ‘ä»¬çŸ¥é“ä½è¿ç®—çš„é€Ÿåº¦è¿œè¿œå¿«äºæ•´é™¤è¿ç®—ï¼Œæ•´å¥è¿ç®—å¼çš„ç»“æœå°±æ˜¯å°†æ–°å®¹é‡æ›´æ–°ä¸ºæ—§å®¹é‡çš„1.5å€ï¼Œ
        int newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1);
        //ç„¶åæ£€æŸ¥æ–°å®¹é‡æ˜¯å¦å¤§äºæœ€å°éœ€è¦å®¹é‡ï¼Œè‹¥è¿˜æ˜¯å°äºæœ€å°éœ€è¦å®¹é‡ï¼Œé‚£ä¹ˆå°±æŠŠæœ€å°éœ€è¦å®¹é‡å½“ä½œæ•°ç»„çš„æ–°å®¹é‡ï¼Œ
        if (newCapacity - minCapacity &lt; 0)
            newCapacity = minCapacity;
       // å¦‚æœæ–°å®¹é‡å¤§äº MAX_ARRAY_SIZE,è¿›å…¥(æ‰§è¡Œ) `hugeCapacity()` æ–¹æ³•æ¥æ¯”è¾ƒ minCapacity å’Œ MAX_ARRAY_SIZEï¼Œ
       //å¦‚æœminCapacityå¤§äºæœ€å¤§å®¹é‡ï¼Œåˆ™æ–°å®¹é‡åˆ™ä¸º`Integer.MAX_VALUE`ï¼Œå¦åˆ™ï¼Œæ–°å®¹é‡å¤§å°åˆ™ä¸º MAX_ARRAY_SIZE å³ä¸º `Integer.MAX_VALUE - 8`ã€‚
        if (newCapacity - MAX_ARRAY_SIZE &gt; 0)
            newCapacity = hugeCapacity(minCapacity);
        // minCapacity is usually close to size, so this is a win:
        elementData = Arrays.copyOf(elementData, newCapacity);
    }
</code></pre>
<p><strong>int newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1),æ‰€ä»¥ ArrayList æ¯æ¬¡æ‰©å®¹ä¹‹åå®¹é‡éƒ½ä¼šå˜ä¸ºåŸæ¥çš„ 1.5 å€ï¼ï¼ˆJDK1.6ç‰ˆæœ¬ä»¥åï¼‰</strong>  JDk1.6ç‰ˆæœ¬æ—¶ï¼Œæ‰©å®¹ä¹‹åå®¹é‡ä¸º 1.5 å€+1ï¼è¯¦æƒ…è¯·å‚è€ƒæºç </p>
<blockquote>
<p>&quot;&gt;&gt;&quot;ï¼ˆç§»ä½è¿ç®—ç¬¦ï¼‰ï¼š&gt;&gt;1 å³ç§»ä¸€ä½ç›¸å½“äºé™¤2ï¼Œå³ç§»nä½ç›¸å½“äºé™¤ä»¥ 2 çš„ n æ¬¡æ–¹ã€‚è¿™é‡Œ oldCapacity æ˜æ˜¾å³ç§»äº†1ä½æ‰€ä»¥ç›¸å½“äºoldCapacity /2ã€‚å¯¹äºå¤§æ•°æ®çš„2è¿›åˆ¶è¿ç®—,ä½ç§»è¿ç®—ç¬¦æ¯”é‚£äº›æ™®é€šè¿ç®—ç¬¦çš„è¿ç®—è¦å¿«å¾ˆå¤š,å› ä¸ºç¨‹åºä»…ä»…ç§»åŠ¨ä¸€ä¸‹è€Œå·²,ä¸å»è®¡ç®—,è¿™æ ·æé«˜äº†æ•ˆç‡,èŠ‚çœäº†èµ„æº</p>
</blockquote>
<p><strong>æˆ‘ä»¬å†æ¥é€šè¿‡ä¾‹å­æ¢ç©¶ä¸€ä¸‹<code>grow()</code> æ–¹æ³• ï¼š</strong></p>
<ul>
<li>å½“addç¬¬1ä¸ªå…ƒç´ æ—¶ï¼ŒoldCapacity ä¸º0ï¼Œç»æ¯”è¾ƒåç¬¬ä¸€ä¸ªifåˆ¤æ–­æˆç«‹ï¼ŒnewCapacity = minCapacity(ä¸º10)ã€‚ä½†æ˜¯ç¬¬äºŒä¸ªifåˆ¤æ–­ä¸ä¼šæˆç«‹ï¼Œå³newCapacity ä¸æ¯” MAX_ARRAY_SIZEå¤§ï¼Œåˆ™ä¸ä¼šè¿›å…¥ <code>hugeCapacity</code> æ–¹æ³•ã€‚æ•°ç»„å®¹é‡ä¸º10ï¼Œaddæ–¹æ³•ä¸­ return true,sizeå¢ä¸º1ã€‚</li>
<li>å½“addç¬¬11ä¸ªå…ƒç´ è¿›å…¥growæ–¹æ³•æ—¶ï¼ŒnewCapacityä¸º15ï¼Œæ¯”minCapacityï¼ˆä¸º11ï¼‰å¤§ï¼Œç¬¬ä¸€ä¸ªifåˆ¤æ–­ä¸æˆç«‹ã€‚æ–°å®¹é‡æ²¡æœ‰å¤§äºæ•°ç»„æœ€å¤§sizeï¼Œä¸ä¼šè¿›å…¥hugeCapacityæ–¹æ³•ã€‚æ•°ç»„å®¹é‡æ‰©ä¸º15ï¼Œaddæ–¹æ³•ä¸­return true,sizeå¢ä¸º11ã€‚</li>
<li>ä»¥æ­¤ç±»æ¨Â·Â·Â·Â·Â·Â·</li>
</ul>
<p><strong>è¿™é‡Œè¡¥å……ä¸€ç‚¹æ¯”è¾ƒé‡è¦ï¼Œä½†æ˜¯å®¹æ˜“è¢«å¿½è§†æ‰çš„çŸ¥è¯†ç‚¹ï¼š</strong></p>
<ul>
<li>java ä¸­çš„ <code>length</code>å±æ€§æ˜¯é’ˆå¯¹æ•°ç»„è¯´çš„,æ¯”å¦‚è¯´ä½ å£°æ˜äº†ä¸€ä¸ªæ•°ç»„,æƒ³çŸ¥é“è¿™ä¸ªæ•°ç»„çš„é•¿åº¦åˆ™ç”¨åˆ°äº† length è¿™ä¸ªå±æ€§.</li>
<li>java ä¸­çš„ <code>length()</code> æ–¹æ³•æ˜¯é’ˆå¯¹å­—ç¬¦ä¸²è¯´çš„,å¦‚æœæƒ³çœ‹è¿™ä¸ªå­—ç¬¦ä¸²çš„é•¿åº¦åˆ™ç”¨åˆ° <code>length()</code> è¿™ä¸ªæ–¹æ³•.</li>
<li>java ä¸­çš„ <code>size()</code> æ–¹æ³•æ˜¯é’ˆå¯¹æ³›å‹é›†åˆè¯´çš„,å¦‚æœæƒ³çœ‹è¿™ä¸ªæ³›å‹æœ‰å¤šå°‘ä¸ªå…ƒç´ ,å°±è°ƒç”¨æ­¤æ–¹æ³•æ¥æŸ¥çœ‹!</li>
</ul>
<h3 id="5-hugecapacity-æ–¹æ³•">5. <code>hugeCapacity()</code> æ–¹æ³•ã€‚</h3>
<p>ä»ä¸Šé¢ <code>grow()</code> æ–¹æ³•æºç æˆ‘ä»¬çŸ¥é“ï¼š å¦‚æœæ–°å®¹é‡å¤§äº MAX_ARRAY_SIZE,è¿›å…¥(æ‰§è¡Œ) <code>hugeCapacity()</code> æ–¹æ³•æ¥æ¯”è¾ƒ minCapacity å’Œ MAX_ARRAY_SIZEï¼Œå¦‚æœminCapacityå¤§äºæœ€å¤§å®¹é‡ï¼Œåˆ™æ–°å®¹é‡åˆ™ä¸º<code>Integer.MAX_VALUE</code>ï¼Œå¦åˆ™ï¼Œæ–°å®¹é‡å¤§å°åˆ™ä¸º MAX_ARRAY_SIZE å³ä¸º <code>Integer.MAX_VALUE - 8</code>ã€‚</p>
<pre><code class="language-java">    private static int hugeCapacity(int minCapacity) {
        if (minCapacity &lt; 0) // overflow
            throw new OutOfMemoryError();
        //å¯¹minCapacityå’ŒMAX_ARRAY_SIZEè¿›è¡Œæ¯”è¾ƒ
        //è‹¥minCapacityå¤§ï¼Œå°†Integer.MAX_VALUEä½œä¸ºæ–°æ•°ç»„çš„å¤§å°
        //è‹¥MAX_ARRAY_SIZEå¤§ï¼Œå°†MAX_ARRAY_SIZEä½œä¸ºæ–°æ•°ç»„çš„å¤§å°
        //MAX_ARRAY_SIZE = Integer.MAX_VALUE - 8;
        return (minCapacity &gt; MAX_ARRAY_SIZE) ?
            Integer.MAX_VALUE :
            MAX_ARRAY_SIZE;
    }
</code></pre>
<h2 id="ä¸‰-systemarraycopy-å’Œ-arrayscopyofæ–¹æ³•">ä¸‰ <code>System.arraycopy()</code> å’Œ <code>Arrays.copyOf()</code>æ–¹æ³•</h2>
<p>é˜…è¯»æºç çš„è¯ï¼Œæˆ‘ä»¬å°±ä¼šå‘ç° ArrayList ä¸­å¤§é‡è°ƒç”¨äº†è¿™ä¸¤ä¸ªæ–¹æ³•ã€‚æ¯”å¦‚ï¼šæˆ‘ä»¬ä¸Šé¢è®²çš„æ‰©å®¹æ“ä½œä»¥åŠ<code>add(int index, E element)</code>ã€<code>toArray()</code> ç­‰æ–¹æ³•ä¸­éƒ½ç”¨åˆ°äº†è¯¥æ–¹æ³•ï¼</p>
<h3 id="31-systemarraycopy-æ–¹æ³•">3.1 <code>System.arraycopy()</code> æ–¹æ³•</h3>
<pre><code class="language-java">    /**
     * åœ¨æ­¤åˆ—è¡¨ä¸­çš„æŒ‡å®šä½ç½®æ’å…¥æŒ‡å®šçš„å…ƒç´ ã€‚ 
     *å…ˆè°ƒç”¨ rangeCheckForAdd å¯¹indexè¿›è¡Œç•Œé™æ£€æŸ¥ï¼›ç„¶åè°ƒç”¨ ensureCapacityInternal æ–¹æ³•ä¿è¯capacityè¶³å¤Ÿå¤§ï¼›
     *å†å°†ä»indexå¼€å§‹ä¹‹åçš„æ‰€æœ‰æˆå‘˜åç§»ä¸€ä¸ªä½ç½®ï¼›å°†elementæ’å…¥indexä½ç½®ï¼›æœ€åsizeåŠ 1ã€‚
     */
    public void add(int index, E element) {
        rangeCheckForAdd(index);

        ensureCapacityInternal(size + 1);  // Increments modCount!!
        //arraycopy()æ–¹æ³•å®ç°æ•°ç»„è‡ªå·±å¤åˆ¶è‡ªå·±
        //elementData:æºæ•°ç»„;index:æºæ•°ç»„ä¸­çš„èµ·å§‹ä½ç½®;elementDataï¼šç›®æ ‡æ•°ç»„ï¼›index + 1ï¼šç›®æ ‡æ•°ç»„ä¸­çš„èµ·å§‹ä½ç½®ï¼› size - indexï¼šè¦å¤åˆ¶çš„æ•°ç»„å…ƒç´ çš„æ•°é‡ï¼›
        System.arraycopy(elementData, index, elementData, index + 1, size - index);
        elementData[index] = element;
        size++;
    }
</code></pre>
<p>æˆ‘ä»¬å†™ä¸€ä¸ªç®€å•çš„æ–¹æ³•æµ‹è¯•ä»¥ä¸‹ï¼š</p>
<pre><code class="language-java">public class ArraycopyTest {

	public static void main(String[] args) {
		// TODO Auto-generated method stub
		int[] a = new int[10];
		a[0] = 0;
		a[1] = 1;
		a[2] = 2;
		a[3] = 3;
		System.arraycopy(a, 2, a, 3, 3);
		a[2]=99;
		for (int i = 0; i &lt; a.length; i++) {
			System.out.println(a[i]);
		}
	}

}
</code></pre>
<p>ç»“æœï¼š</p>
<pre><code>0 1 99 2 3 0 0 0 0 0 
</code></pre>
<h3 id="32-arrayscopyofæ–¹æ³•">3.2 <code>Arrays.copyOf()</code>æ–¹æ³•</h3>
<pre><code class="language-java">   /**
     ä»¥æ­£ç¡®çš„é¡ºåºè¿”å›ä¸€ä¸ªåŒ…å«æ­¤åˆ—è¡¨ä¸­æ‰€æœ‰å…ƒç´ çš„æ•°ç»„ï¼ˆä»ç¬¬ä¸€ä¸ªåˆ°æœ€åä¸€ä¸ªå…ƒç´ ï¼‰; è¿”å›çš„æ•°ç»„çš„è¿è¡Œæ—¶ç±»å‹æ˜¯æŒ‡å®šæ•°ç»„çš„è¿è¡Œæ—¶ç±»å‹ã€‚ 
     */
    public Object[] toArray() {
    //elementDataï¼šè¦å¤åˆ¶çš„æ•°ç»„ï¼›sizeï¼šè¦å¤åˆ¶çš„é•¿åº¦
        return Arrays.copyOf(elementData, size);
    }
</code></pre>
<p>ä¸ªäººè§‰å¾—ä½¿ç”¨ <code>Arrays.copyOf()</code>æ–¹æ³•ä¸»è¦æ˜¯ä¸ºäº†ç»™åŸæœ‰æ•°ç»„æ‰©å®¹ï¼Œæµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="language-java">public class ArrayscopyOfTest {

	public static void main(String[] args) {
		int[] a = new int[3];
		a[0] = 0;
		a[1] = 1;
		a[2] = 2;
		int[] b = Arrays.copyOf(a, 10);
		System.out.println(&quot;b.length&quot;+b.length);
	}
}
</code></pre>
<p>ç»“æœï¼š</p>
<pre><code>10
</code></pre>
<h3 id="33-ä¸¤è€…è”ç³»å’ŒåŒºåˆ«">3.3 ä¸¤è€…è”ç³»å’ŒåŒºåˆ«</h3>
<p><strong>è”ç³»ï¼š</strong></p>
<p>çœ‹ä¸¤è€…æºä»£ç å¯ä»¥å‘ç° copyOf() å†…éƒ¨å®é™…è°ƒç”¨äº† <code>System.arraycopy()</code> æ–¹æ³•</p>
<p><strong>åŒºåˆ«ï¼š</strong></p>
<p><code>arraycopy()</code> éœ€è¦ç›®æ ‡æ•°ç»„ï¼Œå°†åŸæ•°ç»„æ‹·è´åˆ°ä½ è‡ªå·±å®šä¹‰çš„æ•°ç»„é‡Œæˆ–è€…åŸæ•°ç»„ï¼Œè€Œä¸”å¯ä»¥é€‰æ‹©æ‹·è´çš„èµ·ç‚¹å’Œé•¿åº¦ä»¥åŠæ”¾å…¥æ–°æ•°ç»„ä¸­çš„ä½ç½® <code>copyOf()</code> æ˜¯ç³»ç»Ÿè‡ªåŠ¨åœ¨å†…éƒ¨æ–°å»ºä¸€ä¸ªæ•°ç»„ï¼Œå¹¶è¿”å›è¯¥æ•°ç»„ã€‚</p>
<h2 id="å››-ensurecapacityæ–¹æ³•">å›› <code>ensureCapacity</code>æ–¹æ³•</h2>
<p>ArrayList æºç ä¸­æœ‰ä¸€ä¸ª <code>ensureCapacity</code> æ–¹æ³•ä¸çŸ¥é“å¤§å®¶æ³¨æ„åˆ°æ²¡æœ‰ï¼Œè¿™ä¸ªæ–¹æ³• ArrayList å†…éƒ¨æ²¡æœ‰è¢«è°ƒç”¨è¿‡ï¼Œæ‰€ä»¥å¾ˆæ˜¾ç„¶æ˜¯æä¾›ç»™ç”¨æˆ·è°ƒç”¨çš„ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–¹æ³•æœ‰ä»€ä¹ˆä½œç”¨å‘¢ï¼Ÿ</p>
<pre><code class="language-java">    /**
    å¦‚æœ‰å¿…è¦ï¼Œå¢åŠ æ­¤ ArrayList å®ä¾‹çš„å®¹é‡ï¼Œä»¥ç¡®ä¿å®ƒè‡³å°‘å¯ä»¥å®¹çº³ç”±minimum capacityå‚æ•°æŒ‡å®šçš„å…ƒç´ æ•°ã€‚
     *
     * @param   minCapacity   æ‰€éœ€çš„æœ€å°å®¹é‡
     */
    public void ensureCapacity(int minCapacity) {
        int minExpand = (elementData != DEFAULTCAPACITY_EMPTY_ELEMENTDATA)
            // any size if not default element table
            ? 0
            // larger than default for default empty table. It's already
            // supposed to be at default size.
            : DEFAULT_CAPACITY;

        if (minCapacity &gt; minExpand) {
            ensureExplicitCapacity(minCapacity);
        }
    }

</code></pre>
<p><strong>æœ€å¥½åœ¨ add å¤§é‡å…ƒç´ ä¹‹å‰ç”¨ <code>ensureCapacity</code> æ–¹æ³•ï¼Œä»¥å‡å°‘å¢é‡é‡æ–°åˆ†é…çš„æ¬¡æ•°</strong></p>
<p>æˆ‘ä»¬é€šè¿‡ä¸‹é¢çš„ä»£ç å®é™…æµ‹è¯•ä»¥ä¸‹è¿™ä¸ªæ–¹æ³•çš„æ•ˆæœï¼š</p>
<pre><code class="language-java">public class EnsureCapacityTest {
	public static void main(String[] args) {
		ArrayList&lt;Object&gt; list = new ArrayList&lt;Object&gt;();
		final int N = 10000000;
		long startTime = System.currentTimeMillis();
		for (int i = 0; i &lt; N; i++) {
			list.add(i);
		}
		long endTime = System.currentTimeMillis();
		System.out.println(&quot;ä½¿ç”¨ensureCapacityæ–¹æ³•å‰ï¼š&quot;+(endTime - startTime));

		list = new ArrayList&lt;Object&gt;();
		long startTime1 = System.currentTimeMillis();
		list.ensureCapacity(N);
		for (int i = 0; i &lt; N; i++) {
			list.add(i);
		}
		long endTime1 = System.currentTimeMillis();
		System.out.println(&quot;ä½¿ç”¨ensureCapacityæ–¹æ³•åï¼š&quot;+(endTime1 - startTime1));
	}
}
</code></pre>
<p>è¿è¡Œç»“æœï¼š</p>
<pre><code>ä½¿ç”¨ensureCapacityæ–¹æ³•å‰ï¼š4637
ä½¿ç”¨ensureCapacityæ–¹æ³•åï¼š241
</code></pre>
<p>é€šè¿‡è¿è¡Œç»“æœï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆæ˜æ˜¾çš„çœ‹å‡ºå‘ ArrayList æ·»åŠ å¤§é‡å…ƒç´ ä¹‹å‰æœ€å¥½å…ˆä½¿ç”¨<code>ensureCapacity</code> æ–¹æ³•ï¼Œä»¥å‡å°‘å¢é‡é‡æ–°åˆ†é…çš„æ¬¡æ•°</p>
]]></content>
    </entry>
</feed>